{"version":3,"sources":["guitar_lib.js","resources/logo.svg","FretPnl.js","QueryPnl.js","Fretboard.js","AboutDlg.js","App.js","index.js"],"names":["q","chords","list","name","abr","intervals","byName","str","chord","Object","assign","toObj","root","chordName","ivls","preferFlats","indexOf","letter","iname","ivl","letterCalc","push","type","fullName","fullAbbrev","fretboard","strings","num","octave","semis","tabLetter","fretMin","fretMax","fretMinSet","nn","init","fretMaxSet","ii","length","strg","semisCalc","strgN","fretInRange","note","fretN","fretBySemis","tab","fretByTab","ltr","substr","Number","tabByFret","strN","byLetter","toUpperCase","nm","bySemis","allBySemis","semis2","letters","lttrs","lettersBySemis","ivlOrName","rprefix","rsuffix","iprefix","max","idx","newlet","newsfx","local_inc","noteByLetter","noteByFret","noteBySemis","fobj","noteByTab","fret","Math","floor","scales","short","scaleName","scale","ivlAbr","shortName","abbrevName","octaveNum","_g","FretPnl","props","buttonClick","bind","fretBtnTextChange","fretClick","fretFltrClick","strgFltrClick","event","btn","target","nodeName","parentNode","selected","dataset","stopPropagation","this","qry","fretBtnText","stateChange","cell","strn","fretn","isNaN","console","log","fretfilter","clientY","getBoundingClientRect","top","offsetHeight","strgFltr","currentTarget","fretFilter","newstate","capStyle","rootType","noteFilter","btncaption","key","className","onClick","qq","local_rootFind","button","local_noteFind","local_octaveFind","local_ivlFind","local_scaleFind","local_chordFind","trArray","first","fretFirst","last","fretLast","ss","row","frets","col","fval","fretFltr","btnStrFltr","cls","collapsed","onMouseDown","stringdiv","selNoteVal","React","Component","QueryPnl","btnDupeClick","btnDelClick","selLabelClick","selChordChange","btnClearClick","btnCollapseClick","selFretNoChange","selIntervalChange","selNoteChange","selOctaveChange","selScaleChange","infoNoteClick","remove","duplicate","val","reset","lbl","ivlName","sel","options","selectedIndex","value","text","onChange","omin","oct","chd","html","title","arrow","forEach","selNote","drawSelNote","selOct","drawSelOctave","selInt","drawSelInterval","selScale","drawSelScale","selChord","drawSelChord","infoPnl","drawInfo","fbid","Fretboard","state","strgFltrList","fretRoot","makeQuery","setState","slice","splice","replace","flt","Error","id","About","trigger","modal","nested","close","href","_excluded","_extends","i","arguments","source","prototype","hasOwnProperty","call","apply","_objectWithoutProperties","excluded","sourceKeys","keys","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgLogo","_ref","svgRef","titleId","xmlns","viewBox","x","y","ref","fill","stroke","strokeWidth","d","points","width","height","ForwardRef","App","useState","fbs","setFbs","newid","setNewId","indexOfFbid","nid","obj","fbCount","el","alt","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0da20427.chunk.js","sourcesContent":["/*\n  //♭ &flat; alt+?\n  \n  GuitarJoe app's guitar theory logic\n  by Chris DeFreitas, chrisd@europa.com\n  \n   Note:\n    - \"letter\" refers to what we usually call a note, ie C#\n    - note is an object, requires refactoring for consistency: { letter:'C#', semis:49, ... }\n    - note.semis is unique\n    - ivl is an interval object\n    - assume: exception handling performed by caller\n\n  todo:\n    - refactor for code consistency\n    - refactor to create a standard note object\n    - fix q.chords.make() (when code needed)\n    - (when needed) update letterCalc() for ##/bb -- see comments in function\n  \n */\n\nvar q = {\n\n  chords: {\n    //verified against: https://www.omnicalculator.com/other/chord\n    list:[\n      {\n        name:'Major triad', abr:'maj',\n        intervals:[ 'P1', 'M3', 'P5' ]\n      },{\n        name:'Minor triad', abr:'min',\n        intervals:[ 'P1', 'm3', 'P5' ]\n      },{\n        name:'Augmented triad', abr:'aug',\n        intervals:[ 'P1', 'M3', 'A5' ]\n      },{\n        name:'Diminished triad', abr:'dim',\n        intervals:[ 'P1', 'm3', 'd5' ]\n      },{\n        name:'Dominant seventh', abr:'7',\n        intervals:[ 'P1', 'M3', 'P5', 'm7' ]\n      },{\n        name:'Major seventh', abr:'maj7',\n        intervals:[ 'P1', 'M3', 'P5', 'M7' ]\n      },{\n        name:'Minor seventh', abr:'min7',\n        intervals:[ 'P1', 'm3', 'P5', 'm7' ]\n      },{\n        name:'Major sixth', abr:'maj6',\n        intervals:[ 'P1', 'M3', 'P5', 'M6' ]\n      },{\n        name:'Minor sixth', abr:'min6',\n        intervals:[ 'P1', 'm3', 'P5', 'M6' ]\n      },{\n        name:'Suspended second', abr:'sus2',\n        intervals:[ 'P1', 'M2', 'P5' ]\n      },{\n        name:'Suspended fourth', abr:'sus4',\n        intervals:[ 'P1', 'P4', 'P5' ]\n      }\n    ],\n    byName( str ){\n      for(let chord of q.chords.list){\n        if(chord.abr === str || chord.name === str)\n          return Object.assign({}, chord )\n      }\n      return null\n    },\n    // todo: fix\n    // make( letter, chordAbbrev, octaveNum ){\n    //   let chord = q.chords.byName( chordAbbrev )\n    //   let semis = []\n    //   for(let stepnum = 0; stepnum < chord.semis.length; stepnum++){\n    //     let step = chord.semis[stepnum]\n    //     semis.push( q.semisCalc( step, octaveNum) )\n    //   }\n    //   return {\n    //     letter: letter.toUpperCase(),\n    //     octaveNum: octaveNum,\n    //     name:chord.name, abr:chord.abr, \n    //     semis: semis\n    //   }\n    //},\n    // toNotes( root, chord ){  //return scale notes based on root; todo: refactor for efficiency\n    toObj( root, chordName ){  //return chord with notes based on root\n      let ivls = [],\n        chord = q.chords.byName( chordName )\n      if(chord === null) return null\n\n      if(typeof root === 'string')\n        root = q.intervals.byName( root )   //object returned to caller\n      if(root === null) return null\n\n      let preferFlats = ( \n          chord.name.indexOf('Minor') >= 0  \n        ||chord.name.indexOf('Diminished') >= 0 \n        || root.letter.indexOf('♭') >= 0)\n      for(let iname of chord.intervals){\n        let ivl = q.intervals.byName( iname )\n        let letter = q.letterCalc( root, ivl, preferFlats )\n        ivls.push( Object.assign({}, ivl, { letter:letter } ))\n      }\n\n      let obj = Object.assign({}, chord, {\n        type:'chord',\n        fullName: root.letter +' '+chord.name,\n        fullAbbrev: root.letter +chord.abr,\n        root: Object.assign({}, root),\n        ivls:ivls\n       })\n\n      return obj\n    }\n  },\n\n  fretboard: {\n    strings: [\n      {num:1, letter:'E', octave:4, semis:0, tabLetter:'e' },\n      {num:2, letter:'B', octave:3, semis:0, tabLetter:'B' },\n      {num:3, letter:'G', octave:3, semis:0, tabLetter:'G' },\n      {num:4, letter:'D', octave:3, semis:0, tabLetter:'D' },\n      {num:5, letter:'A', octave:2, semis:0, tabLetter:'A' },\n      {num:6, letter:'E', octave:2, semis:0, tabLetter:'E' }\n    ],\n\n    fretMin:1,\n    fretMax:14,\n    fretMinSet( nn ){   //not used as yet\n      q.fretboard.fretMin = nn\n      q.fretboard.init()\n    },\n    fretMaxSet( nn ){   //not used as yet\n      q.fretboard.fretMax = nn\n      q.fretboard.init()\n    },\n\n    init(){\n      for(let ii = 0; ii <= q.fretboard.strings.length -1; ii++){\n        let strg = q.fretboard.strings[ii]\n        q.fretboard.strings[ii].semis = q.semisCalc(strg.letter, strg.octave)\n      }\n    },\n    strg( strgN ){  \n      return Object.assign({}, q.fretboard.strings[ strgN -1 ])\n    },\n    fretInRange(note, root){\n      if((root.fretN <= 1 && note.fretN <= 5)\n      || (root.fretN > 1 && note.fretN >= (root.fretN -3)  &&  note.fretN <= (root.fretN +3) ))\n        return true\n      return null\n    },\n    fretBySemis( semis ){   // returns fretObject: {fretN, strg, tab}\n      let fretN = null,\n        fretMax = q.fretboard.fretMax\n      for(let strg of q.fretboard.strings){\n        if(semis >= strg.semis && semis <= (strg.semis +fretMax)){\n          fretN = ( semis -strg.semis )\n          return { fretN: fretN, strg:Object.assign( {}, strg ), tab:(strg.tabLetter +fretN) }\n        }\n      }\n      return null\n    },\n    fretByTab( tab ){   // returns fretObject: {fretN, strg, tab}\n      let ltr = tab.substr(0,1),\n        fretN = Number(tab.substr(1))\n      for( let strg of q.fretboard.strings ){\n        if(strg.tabLetter === ltr){\n          return { fretN:fretN, strg:Object.assign({}, strg), tab:(strg.tabLetter +fretN) }\n        }\n      }\n      return null\n    },\n    tabByFret( strN, fretN ){  // return example: 'e12'\n      strN = Number( strN )\n      for( let strg of q.fretboard.strings ){\n        if(strg.num === strN){\n          return ( strg.tabLetter +fretN )\n        }\n      }\n      return null\n    },\n  },\n\n  intervals:{\n    list:[\n      //rules:\n      // 1. order by semitones\n      // 2. prefer perfect, major, minor first\n      // 3. prefer minor over diminished\n      // 4. prefer augmented last\n      // 5. removed (♭♭, TT, P8) because added complexity not relevant to most uses\n      // \n      {name:'Perfect unison', abr:'P1',  semis:0, letter:'C' },\n      //{name:'Diminished second', abr:'d2', semis:0, letter:'D♭♭' },\n      \n      {name:'Minor second', abr:'m2', semis:1, letter:'D♭' },\n      {name:'Augmented unison', abr:'A1', semis:1, letter:'C#' },\n      \n      {name:'Major second', abr:'M2', semis:2, letter:'D' },\n      // {name:'Diminished third', abr:'d3', semis:2, letter:'E♭♭' },\n      \n      {name:'Minor third', abr:'m3', semis:3, letter:'E♭' },\n      {name:'Augmented second', abr:'A2', semis:3, letter:'D#' },\n      \n      {name:'Major third', abr:'M3', semis:4, letter:'E' },\n      {name:'Diminished fourth', abr:'d4', semis:4, letter:'F♭' },\n\n      {name:'Perfect fourth', abr:'P4', semis:5, letter:'F'},\n      {name:'Augmented third', abr:'A3', semis:5, letter:'E#'},\n      \n      {name:'Diminished fifth', abr:'d5', semis:6, letter:'G♭' },\n      {name:'Augmented fourth', abr:'A4', semis:6, letter:'F#' },\n      // {name:'Tritone', abr:'TT', semis:6, letter:'TT' },\n      \n      {name:'Perfect fifth', abr:'P5', semis:7, letter:'G' },\n      // {name:'Diminished sixth', abr:'d6', semis:7, letter:'A♭♭' },\n      \n      {name:'Minor sixth', abr:'m6', semis:8, letter:'A♭' },\n      {name:'Augmented fifth', abr:'A5', semis:8, letter:'G#' },\n      \n      {name:'Major sixth', abr:'M6', semis:9, letter:'A' },\n      // {name:'Diminished seventh', abr:'d7', semis:9, letter:'B♭♭' },\n      \n      {name:'Minor seventh', abr:'m7', semis:10, letter:'B♭' },\n      {name:'Augmented sixth', abr:'A6', semis:10, letter:'A#' },\n      \n      {name:'Major seventh', abr:'M7', semis:11, letter:'B' },\n      {name:'Diminished octave', abr:'d8', semis:11, letter:'C♭' },\n      \n      {name:'Perfect octave', abr:'P8', semis:12, letter:'C' },\n      {name:'Augmented seventh', abr:'A7', semis:12, letter:'B#' },\n    ],\n  \n    byLetter( letter ){\n      letter = letter.toUpperCase()\n      for(let ivl of q.intervals.list){\n        if(ivl.letter === letter)\n          return Object.assign({}, ivl)\n      }\n      return null\n    },\n    byName( nm ){\n      let letter = nm.toUpperCase()\n      for(let ivl of q.intervals.list){\n        if(ivl.abr === nm || ivl.letter === letter || ivl.name === nm)\n          return Object.assign({}, ivl)\n      }\n      return null\n    },\n    bySemis( semis ){   //return first interval where semis match\n      semis = semis % 12\n      for(let ivl of q.intervals.list){\n        if(ivl.semis === semis)\n          return Object.assign({}, ivl)\n      }\n      return null\n    },\n    allBySemis( semis ){   //return all intervals where semis\n      let semis2 = semis % 12\n      let list = []\n      for(let ivl of q.intervals.list){\n        if(ivl.semis === semis2)\n          list.push( Object.assign({}, ivl) )\n      }\n      return list\n    },\n  },\n\n  letters:['C','C#','D♭','D','D#','E♭','E','F','F#','G♭','G','G#','A♭','A','A#','B♭','B'],\n  lttrs:['C','D','E','F','G','A','B'],\n  lettersBySemis( semis ){\n    let letters = []\n    semis = semis % 12\n    for(let ivl of q.intervals.list ){\n      if(ivl.semis === semis){\n        letters.push(ivl.letter)\n      }\n      if(ivl.semis > semis) break //intervals ordered by semis\n    }\n    return letters\n  },\n  letterCalc( root, ivlOrName, preferFlats = false){  //iterate by semitones to get new letter with correct #/b\n    // assume: preferFlats === true: return only flats\n\n    // to handle ##/bb:\n    // 1. pre-loop: resolve to standard note, get new root interval, proceed as normal\n    // 2. post loop(???): if ivl requires ##/bb, manually resolve based on new note: C => Dbb\n\n    if(typeof root === 'object') root = root.letter\n    let rprefix = root.substr(0,1)\n    let rsuffix = root.substr(1,2)\n    // console.log('root='+root, 'rprefix='+rprefix, 'rsuffix='+rsuffix)\n\n    let ivl = (typeof ivlOrName === 'object' ?ivlOrName : q.intervals.byName(ivlOrName))\n    let iprefix = ivl.abr.substr(0,1)    // A as in A1\n    // console.log('ivl.abr='+ivl.abr, 'iprefix='+iprefix )\n\n    // test: display matching intervals\n    // let rivl = q.intervals.byName( root )\n    // let list = q.intervals.allBySemis( rivl.semis +ivl.semis )\n    // console.log( 'ivl.semis='+ivl.semis, '\\nlist=', list  )\n\n    //assume: no ## or bb used\n    let max = ivl.semis, idx = 0    //idx = q.lttrs.indexOf( ltr ) ::: test\n    let newlet = rprefix, newsfx = rsuffix\n    function local_inc( ltr ){\n      idx = q.lttrs.indexOf( ltr ) // this can probably be refactored out: lttrs[idx % 7] always === newlet; lookup not required\n      idx++\n      return q.lttrs[ idx % 7]\n    }\n    for(let ii = 0; ii < max; ii++){\n      // console.log('root='+root, 'newlet='+newlet+newsfx)\n      if(newlet === 'B' && newsfx === ''){ \n        newlet = 'C'; \n      }else\n      if(newlet === 'E' && newsfx === ''){ \n         newlet = 'F'; \n      }else\n      if(newsfx === '♭'){\n        newsfx = ''\n      }else\n      if(newsfx === '#'){\n        newsfx = ''\n        newlet = local_inc( newlet )\n      } \n      else  //newsfx === ''\n      if(iprefix === 'm' || iprefix === 'd'  || preferFlats === true){\n        newsfx = '♭'\n        newlet = local_inc( newlet )\n      }\n      else\n        newsfx = '#'\n    }\n    // console.log('root='+root, 'newlet='+newlet+newsfx)\n    return newlet+newsfx\n  },\n  noteByLetter( letter ){\n    let ivl = q.intervals.byLetter( letter ),\n        semis = ivl.semis,\n        octave = q.octave(semis),\n        letters = q.lettersBySemis(semis)\n        //, fobj = q.fretboard.fretBySemis( semis )\n    return {\n      strg: null, // fobj.strg,    //should be null because input being not specific to a fret\n      fretN: null, // fobj.fretN,\n      tab: null, // fobj.tab,\n      letter:letter,\n      letters:letters,\n      octave:octave,\n      semis:semis,\n      noteByLetter:true\n    }\n  },\n  noteByFret( strN, fretN ){\n    let strg = q.fretboard.strg( strN ),\n        semis = strg.semis +fretN,\n        octave = q.octave(semis),\n        letters = q.lettersBySemis(semis)\n    return {\n      strg:strg, \n      fretN:(semis -strg.semis),\n      tab: strg.tabLetter +fretN,\n      letter:letters[0],\n      letters:letters,\n      octave:octave,\n      semis:semis,\n      noteByFret:true\n    }\n  },\n  noteBySemis( semis ){\n    let fobj = q.fretboard.fretBySemis( semis )\n    let letters = q.lettersBySemis(semis)\n    return {\n      strg: fobj.strg, \n      fretN: fobj.fretN, \n      tab: fobj.strg.tabLetter +(semis -fobj.strg.semis),\n      letter:letters[0], \n      letters:letters, \n      octave:q.octave(semis),\n      semis:semis, \n      noteBySemis:true\n    }\n  },\n  noteByTab( tab ){\n    let fobj = q.fretboard.fretByTab( tab ),\n      strg = fobj.strg,\n      fretN = fobj.fret,\n      semis = strg.semis +fretN,\n      letters = q.lettersBySemis(semis)\n    return {\n      strg: strg, \n      fretN:fretN, \n      tab:tab,\n      letter:letters[0], \n      letters:letters, \n      octave:q.octave(semis),\n      semis:semis,\n      noteByTab:true\n    }\n  },\n\n  octave( semis ){\n    return Math.floor( semis / 12 )\n  },\n\n  scales:{\n    list:[\n      // tested with: https://www.omnicalculator.com/other/music-scale\n      //            https://www.scales-chords.com/scalenav.php\n      // rules:\n      //   keep accidentals of the same type -- all flat or sharp\n      { name:'Major', abr:'M', short:'Major',\n        // list:[ 'C', 'D', 'E', 'F', 'G', 'A', 'B'],\n        intervals:['P1','M2','M3','P4','P5','M6','M7']\n      },\n      { name:'Natural minor', abr:'m', short:'Nat.min', \n        // list:[ 'C', 'D', 'D#', 'F', 'G', 'A', 'A#'],\n        intervals:['P1','M2','m3','P4','P5','m6','m7']\n      },\n      { name:'Pentatonic major', abr:'P', short:'Pen.maj', \n        // list:[ 'C', 'D', 'E', 'G', 'A'],\n        intervals:['P1','M2','M3','P5','M6']\n      },\n      { name:'Pentatonic minor', abr:'p', short:'Pen.min',\n        // list:[ 'C', 'D#', 'F', 'G', 'A#'],\n        intervals:['P1','m3','P4','P5','m7']\n      },\n      { name:'Blues heptatonic', abr:'B7', short:'Blues7',\n        intervals:['P1','M2','m3','P4','d5','M6','m7']\n      },\n      { name:'Blues hexatonic', abr:'B6', short:'Blues6',\n        // 1, ♭3, 4, ♭5, 5, ♭7\n        intervals:['P1','m3','P4','d5','P5','m7']\n      },\n      { name:'Chromatic', abr:'Ch', short:'Chrom',\n        intervals:['P1','m2','M2','m3','M3','P4','d5','P5','m6','M6','m7','M7']\n      },\n      { name:'Double harmonic', abr:'DH', short:'Dbl.har',\n        // minor second, major third, perfect fourth and fifth, minor sixth, major seventh -- https://en.wikipedia.org/wiki/Double_harmonic_scale\n        intervals:['P1','m2','M3','P4','P5','m6','M7']\n      },\n      { name:'Gypsy minor', abr:'Gm', short:'Gypsy.min',\n        // step pattern is W, H, +, H, H, +, H -- https://en.wikipedia.org/wiki/Hungarian_minor_scale\n        intervals:['P1','M2','m3','d5','P5','m6','M7']\n      },\n      { name:'Hungarian major', abr:'HM', short:'Hung.maj`',\n        // semitones: 3, 1, 2, 1, 2, 1, 2 -- https://en.wikipedia.org/wiki/Hungarian_major_scale\n        intervals:['P1','m3','M3','d5','P5','M6','m7']\n      },\n      { name:'Phrygian dominant', abr:'Pd', short:'Phr.dom`',\n        //1 – ♭2 – 3 – 4 – 5 – ♭6 – ♭7 – 1  https://en.wikipedia.org/wiki/Phrygian_dominant_scale\n        intervals:['P1','m2','M3','P4','P5','m6','m7']\n      }\n    ],\n    byName( scaleName ){\n      for(let scale of q.scales.list){\n        if(scale.name === scaleName || scale.short === scaleName || scale.abr === scaleName)\n          return Object.assign({}, scale)\n      }\n      return null\n    },\n    toObj( root, scaleName ){  //return scale, root and scale intervals\n      let ivls = []\n\n      if(typeof root === 'string')        //else interval object\n        root = q.intervals.byName( root )\n      if(root === null) return null\n\n      let scale = q.scales.byName( scaleName )\n      if(scale === null) return null\n\n      let preferFlats = ( scaleName.indexOf('minor') >= 0 || root.letter.indexOf('♭') >= 0 )\n\n      for(let ivlAbr of scale.intervals){   //generate intervals for scale built on root\n        let ivl = q.intervals.byName( ivlAbr )\n        let letter = q.letterCalc( root, ivl, preferFlats )\n        ivl = Object.assign( {}, ivl, {\n          abr: ivlAbr,    //abbreviation may differ from one assigned to scale\n          letter:letter,\n        })\n        ivls.push( ivl )\n      }\n\n      let obj = Object.assign( {}, scale, {\n        type:'scale',\n        fullName: root.letter +' '+scale.name,\n        shortName: root.letter +' '+scale.short,\n        abbrevName: root.letter +scale.abr,\n        root: Object.assign({}, root),\n        ivls: ivls \n      })\n      return obj\n    }\n  },\n\n  semis( nm ){    //return ivl object\n    return q.intervals.byName( nm )\n  },\n  semisCalc(note, octaveNum){   //return number of semitones\n      //assume: ocatveNum range: 0 to infinity\n      //assume: Middle C (C4) == (C,4) == (48 +0) == 48\n      //assume:            C0 == (C,0) == ( 0 +0) ==  0\n      //assume: A440     (A4) == (A,4) == (48 +9) == 57\n      let semis = (octaveNum *12)\n      semis += q.intervals.byName( note ).semis\n      return semis\n  },\n}\n\n\nq.fretboard.init()\nexport default q","var _g;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgLogo(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 64 64\",\n    x: \"0px\",\n    y: \"0px\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"#ffffff\",\n    stroke: \"#0006\",\n    strokeWidth: \"1px\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M30,23v-4a2,2,0,1,0,0,4Z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M48,24V18.038L47.967,18H32.033L32,18.038V25a7.979,7.979,0,0,0,3.556,6.648l.124.078a8.078,8.078,0,0,0,8.762-.076A7.982,7.982,0,0,0,48,25ZM35.5,22A1.5,1.5,0,1,1,37,20.5,1.5,1.5,0,0,1,35.5,22Zm3.361,6H37V26h1.861a7.445,7.445,0,0,0,3.635-.864L43.5,26.864A9.353,9.353,0,0,1,38.861,28ZM44.5,22A1.5,1.5,0,1,1,46,20.5,1.5,1.5,0,0,1,44.5,22Z\"\n  }), /*#__PURE__*/React.createElement(\"polygon\", {\n    points: \"17.279 13 18 10.838 18 4 13 4 13 10.838 13.721 13 17.279 13\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M17,35.226V15H14V35.226A5.657,5.657,0,0,1,17,35.226Z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M50,19v4a2,2,0,0,0,0-4Z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M48,11.41v-.021q0-.66-.034-1.324c0-.022,0-.043,0-.065H32.038c0,.022,0,.044,0,.066-.022.441-.033.883-.034,1.323V12H48Z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M31,16H49a3.006,3.006,0,0,0,2.829-2H28.171A3.006,3.006,0,0,0,31,16Z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M47.613,6.793A3.329,3.329,0,0,0,44.32,4a3.357,3.357,0,0,0-2.781,1.489,1.853,1.853,0,0,1-3.076,0A3.359,3.359,0,0,0,35.68,4a3.33,3.33,0,0,0-3.292,2.79c-.067.4-.1.806-.154,1.21H47.766C47.716,7.6,47.679,7.19,47.613,6.793Z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M40,35a9.941,9.941,0,0,1-4-.847V36.17a2,2,0,0,1-1.637,1.963l-1.188.224.383,1.576a6.629,6.629,0,0,0,12.884,0l.383-1.576-1.19-.224A2,2,0,0,1,44,36.17V34.147A9.946,9.946,0,0,1,40,35Z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M18,57V56H11a1,1,0,0,1-1-1V51a1,1,0,0,1,1-1h7V45.4a5.495,5.495,0,0,1-6-9.131V29.151a5.078,5.078,0,0,0-3.991,4.606,4.891,4.891,0,0,0,.041.926,12.5,12.5,0,0,1-2.032,9.29A9.98,9.98,0,0,0,4,50.3,10.262,10.262,0,0,0,14.35,60h2.3a10.328,10.328,0,0,0,1.8-.161A4.013,4.013,0,0,1,18,58Z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M22.7,58H20a1.958,1.958,0,0,0,.814,1.608A2.01,2.01,0,0,0,22,60h4a1.006,1.006,0,0,1-.555-.168Z\"\n  }), /*#__PURE__*/React.createElement(\"polygon\", {\n    points: \"28 60 28.017 59.998 26 60 28 60\"\n  }), /*#__PURE__*/React.createElement(\"polygon\", {\n    points: \"53.303 51 60 51 60 49 56.303 49 53.303 51\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M59.941,43.492c-.005-.031-.013-.062-.018-.093a3.991,3.991,0,0,0-.142-.523c-.025-.069-.05-.137-.078-.2a3.814,3.814,0,0,0-.239-.509h0a3.982,3.982,0,0,0-.377-.54c-.014-.018-.03-.034-.045-.051a4.006,4.006,0,0,0-.914-.786c-.06-.038-.12-.075-.18-.108a3.871,3.871,0,0,0-.511-.245l-.041-.017a4.017,4.017,0,0,0-.67-.186l-7.941-1.466-.4,1.643a8.629,8.629,0,0,1-16.772,0l-.4-1.643-7.941,1.466a3.962,3.962,0,0,0-1.248.461c-.044.025-.087.051-.132.079a3.953,3.953,0,0,0-.388.277c-.063.051-.125.1-.184.156-.1.09-.191.186-.28.284-.059.065-.118.13-.173.2a4,4,0,0,0-.576,1c-.025.062-.049.125-.071.189a3.913,3.913,0,0,0-.158.583v0a4.035,4.035,0,0,0-.063.708V47h4a1.006,1.006,0,0,1,.555.168L30.3,51H49.7l5.748-3.832A1.006,1.006,0,0,1,56,47h4V44.162A4.012,4.012,0,0,0,59.941,43.492Z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M30,53a1.006,1.006,0,0,1-.555-.168L23.7,49H20v7h3a1.006,1.006,0,0,1,.555.168L26.3,58H32l20.1,2.005L58,60a2,2,0,0,0,2-2V53H30Z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M17.448,37.594a3.542,3.542,0,0,0-3.893,0,3.492,3.492,0,1,0,4.619,5.133l.012-.059a.716.716,0,0,1,.023-.1c.028-.1.077-.2.11-.293.042-.127.089-.251.14-.374.038-.092.06-.184.1-.277.079-.164.158-.311.238-.451l0-.01c.053-.093.109-.174.163-.257A3.571,3.571,0,0,0,19,40.5,3.469,3.469,0,0,0,17.448,37.594Z\"\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    x: 12,\n    y: 52,\n    width: 6,\n    height: 2\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M21.134,38.906c.094-.051.18-.119.276-.164l.447-.192a3.5,3.5,0,0,1,.549-.175,3.424,3.424,0,0,1,.462-.11,15.6,15.6,0,0,1,.081-3.578,4.84,4.84,0,0,0,.042-.926A5.079,5.079,0,0,0,19,29.151v7.113a5.445,5.445,0,0,1,1.815,2.825C20.919,39.024,21.025,38.965,21.134,38.906Z\"\n  }))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgLogo);\nexport default __webpack_public_path__ + \"static/media/logo.97fcb56e.svg\";\nexport { ForwardRef as ReactComponent };","/*\n  FretPnl.js\n  - by Chris DeFreitas, chrisd@europa.com\n  - manage activation of fretboard controls for GuitarJoe app\n\n*/\n\nimport React from 'react'\nimport './FretPnl.css';\nimport q from \"./guitar_lib.js\";\n\nclass FretPnl extends React.Component{\n\n  constructor (props) {\n    super(props)\n    this.buttonClick = this.buttonClick.bind(this)\n    this.fretBtnTextChange = this.fretBtnTextChange.bind(this)\n    this.fretClick = this.fretClick.bind(this)\n    this.fretFltrClick = this.fretFltrClick.bind(this)\n    this.strgFltrClick = this.strgFltrClick.bind(this)\n  }\n  buttonClick( event ){\n    let btn = event.target\n    if(btn.nodeName !== 'BUTTON'){ \n      btn = btn.parentNode      //span\n      if(btn.nodeName !== 'BUTTON') \n        btn = btn.parentNode    //span span\n    }\n    if(btn.nodeName !== 'BUTTON') return\n    \n    //toggle button\n    let selected = Number( btn.dataset.selected )\n    if(selected === 0)\n      btn.dataset.selected = 1\n    else\n    if(selected === 1)\n      btn.dataset.selected = 0\n \n    event.stopPropagation()\n  }\n  fretBtnTextChange( event ){   //toggle formatting of fret button captions\n    // console.log('fretBtnTextChange', event)\n    event.stopPropagation()\n    if(this.props.qry.fretBtnText === 'NoteFirst')\n   \t\tthis.props.stateChange( 'fretBtnText', 'IvlFirst' )\n    else\n   \t\tthis.props.stateChange( 'fretBtnText', 'NoteFirst' )\n  }\n  fretClick( event ){\n    let //qry = this.props.qry,\n      cell = event.target,\n      strN = Number(cell.dataset.strn), \n      fretN = Number(cell.dataset.fretn)\n\n    if( isNaN(strN) ){\n      console.log('FretPnl.fretClick() error, bad caller:', cell)\n      return \n    }\n    event.stopPropagation()\n    if(cell.dataset.fretfilter === \"true\")\n      return\n\n    if(strN === 7){\n      strN = 6\n    }else\n    if(strN !== 1 && cell.nodeName === 'TD'){ //calc string to use\n      let  cy = event.clientY,\n        abs = cell.getBoundingClientRect(),\n        top = abs.top,\n        mid = top +(cell.offsetHeight  /2)\n\n      if(cy < mid) strN--\n    }\n\n    if(this.props.strgFltr( strN ) === true)\n      return\n\n    // console.log('fretPnl.fretClick:', strN, fretN, cell.className)\n    let root = q.noteByFret( strN, fretN )\n\t\tthis.props.stateChange( 'fretRoot', root )\n  }\n  fretFltrClick( event ){ //toggle state for frets\n    let qry = this.props.qry,\n      btn = event.currentTarget,\n      fretn = Number( btn.dataset.fretn )\n\n    console.log( 'fretFltrClick:', fretn, qry.fretFilter )\n    this.props.stateChange( 'fretFilter', fretn )\n    event.stopPropagation()\n  }\n  strgFltrClick( event ){\n    let btn = event.currentTarget,\n      strN = btn.dataset.strn,\n      newstate = !this.props.strgFltr( strN )\n    this.props.stateChange( 'strgFltr'+strN, newstate )\n    event.stopPropagation()\n  }  \n  // tabDelete( tab ){\n  //   if(this.state.tabs === '') return\n  //   let list = this.state.tabs.split(','),\n  //     idx = list.indexOf( tab )\n  //   if(idx >= 0) {\n  //     // console.log('tabDelete', tab)\n  //     list.splice(idx, 1)\n  //     this.setState({ tabs:list.join(',') })\n  //   }\n  // }\n\n  button( note, root ){\n    // sample:\n    // <button title='Note' className='fretButton'>C\n    //   <sub title='octave'>4</sub>\n    //   <sup title='Interval'>P1</sup>\n    // </button>\n    let qry = this.props.qry, ivl = note.ivl, capStyle = qry.fretBtnText\n\n    let selected = 0\n    if(root === 'ALL'){   //user selected All Notes\n      if(qry.octave !== 0 && qry.octave !== note.octave)\n        return null      \n      capStyle = 'NoteFirst' //force for this selection\n    }else\n    if(qry.rootType === 'fretRoot'){\n      // if(note.letter === root.letter && note.semis === root.semis)\n      if(note.letters.indexOf( root.letter ) >= 0  &&  note.semis === root.semis)\n        selected = qry.rootType\n    }else\n    if(qry.rootType === 'selNote'){\n      if(root.letters.indexOf( note.letter ) >= 0){ \n        selected = qry.rootType\n      }\n    }\n \n    //test against props.noteFilter -- allow overriding roottype because user selected\n   // if(selected === 0){\n      if(qry.noteFilter.indexOf( note.letter ) >= 0)\n        selected = 'noteFilter'\n   // }\n    \n    //test against props.tabFilter\n    // if(selected === 0){}\n    \n    //format button caption\n    let btncaption = [], key=0\n    if(capStyle === 'IvlFirst'){\n      if(note.ivl){\n        btncaption.push(\n          <span key={++key} className='spanIvl'  onClick={this.buttonClick} >\n            <span key={++key} onClick={this.buttonClick} >{ivl.abr.substr(0,1)}</span>\n              {ivl.abr.substr(1)}\n          </span>\n        )\n      }\n      btncaption.push(\n        <sub key={++key} className='subNote' onClick={this.fretBtnTextChange}>{note.letter}\n            <sub key={++key} className='subOctave' >{note.octave}</sub>\n        </sub>\n      )\n    } else {\n    // if(capStyle === 'NoteFirst'){\n      btncaption.push(\n        <span key={++key} className='spanNote'  onClick={this.buttonClick} >{note.letter}\n            <sub key={++key} className='subOctave' onClick={this.buttonClick} >{note.octave}</sub>\n        </span>\n      )\n      if(note.ivl){\n        btncaption.push(\n          <sub key={++key} className='subInterval' onClick={this.fretBtnTextChange} >\n            {ivl.abr}\n          </sub>\n        )\n      }\n    }\n \n    return(\n      <button key={note.semis} className='fretButton'  onClick={this.buttonClick}\n        data-strn={note.strg.num} data-fretn={note.fretN} \n        data-selected={selected}\n      >\n        {btncaption}\n      </button>\n    )  \n  }\n  render(){\n    let qq = this,\n      qry = this.props.qry\n    // console.log('fretPnl.render()', this.props)\n\n    function local_rootFind(note){    //select fret = selected fret\n      if(qry.rootType !== 'fretRoot') return null\n\n      if(note.fretN === qry.root.fretN && note.strg.num === qry.root.strg.num){\n        // note.letter = qry.root.letter\n        return qq.button( note, qry.root  )\n      }\n      return null\n    }\n    function local_noteFind(note){    //select all frets with letter = selNoteVal\n      if(qry.rootType !== 'selNote') return null\n\n      let idx = note.letters.indexOf(qry.letter)\n      if(qry.letter === '' ||  idx >= 0){\n        if(qry.octave === 0 || qry.octave === note.octave){\n          if(qry.letter !== '')\n            note.letter = qry.letter\n          return qq.button( note, qry.root  )\n      }  }\n      return null\n    }\n\n    function local_octaveFind(note){  //find notes for selected octave\n      if(qry.letter !== '') return\n\n      if(qry.octave === note.octave){\n        note.ivl = qry.ivl\n        // note.letter = note.letters[0]\n        return qq.button( note, qry.root  )\n      }\n      return null\n    }\n\n    function local_ivlFind(note){     //select frets matching interval\n      if(qry.ivl === null) return null\n      \n      let btn = null\n      if(qry.rootType === 'fretRoot' && q.fretboard.fretInRange(note, qry.root) === true){\n        let nn = q.noteBySemis(qry.root.semis +qry.ivl.semis)\n        // if(nn.letter === note.letter)\n        if( note.letters.indexOf(nn.letter) >= 0 )\n          btn = true\n      }else\n      // if(qry.rootType === 'selNote' && qry.ivl.letter === note.letter){\n      if(qry.rootType === 'selNote' && note.letters.indexOf(qry.ivl.letter) >= 0){\n        btn = true\n      }\n\n      if(btn === true && (qry.octave === 0 || qry.octave === note.octave)){\n        note.ivl = qry.ivl\n        note.letter = qry.ivl.letter\n        return qq.button( note, qry.root  )\n      }\n      return null\n    }\n\n    //handle scale\n    function local_scaleFind(note){\n      if(qry.scale === null) return null\n\n      if(qry.rootType === 'fretRoot'){    //exclude frets\n        if(q.fretboard.fretInRange(note, qry.root) !== true)\n          return null\n      }\n      for(let ivl of qry.scale.ivls){\n        // if(ivl.scaleLetter === note.letter){\n        // if(ivl.letter === note.letter){\n        if( note.letters.indexOf(ivl.letter) >= 0){\n          if(qry.octave === 0 || qry.octave === note.octave){\n            // note.ivl = Object.assign({}, ivl)\n            note.ivl = ivl\n            note.letter = ivl.letter\n            return qq.button( note, qry.root )\n          }\n        }\n      }\n      return null\n    }\n\n    function local_chordFind(note){\n      if(qry.chord === null) return null\n      if(qry.rootType === 'fretRoot'){    //exclude frets\n        if(q.fretboard.fretInRange(note, qry.root) !== true)\n          return null\n      }\n      for(let ivl of qry.chord.ivls){\n        // if(ivl.letter === note.letter){\n        if( note.letters.indexOf(ivl.letter) >= 0){\n          if(qry.octave === 0 || qry.octave === note.octave){\n            note.ivl = ivl\n            note.letter = ivl.letter\n            return qq.button( note, qry.root )\n          }\n        }\n      }\n      return null\n    }\n\n    //make table's tr and td\n    let trArray = [],\n      fretMax = q.fretboard.fretMax,    \n      first = this.props.fretFirst,\n      last = this.props.fretLast,\n      ss = ''\n    for (let row = 1; row <= 9; row++) {\n      let frets = []\n      let strN = row -1\n      let strgFltr = this.props.strgFltr( strN )\n\n      for (let col = 0; col <= fretMax +1; col++) {\n        let fval = `\"${col}\",`, \n          fretFltr = (qry.fretFilter.indexOf( fval ) >= 0)\n\n        let btnStrFltr = null    //create string filter button for fret0 and fretMax\n        if(col === 0 && strN >= 1 && strN <= 6){\n          btnStrFltr=(<div onClick={this.strgFltrClick} data-strn={strN}\n            className={'btnFilter btnStrgFltr btnStrgFltr'+strN}\n           ><div>&diams;</div></div>\n           )\n        }\n\n        if(row === 1){  //top border, fret filter disabled because may not be needed\n          let cls = (col === (fretMax +1) ?'borderRight tdBorder'+col :'tdBorder'+col)\n          let ss = (col === first || col === (fretMax +1) ?' ' :col)\n          if(ss === col && qry.collapsed === true){\n            if([5,7,9,12].indexOf(col) >= 0)\n              ss = <div data-fretn={col} className='collapsed' >&nbsp;</div>\n            else\n              ss = ''\n          }\n          frets.push( <td key={col} \n            data-fretn={col} data-fretfilter={fretFltr}\n            onMouseDown={this.fretFltrClick} className={cls}>{ss}</td> \n          )\n        }else\n        if(row === 9){  //bottom frame\n\n          if(col === (fretMax +1))    //right bottom corner frame\n            frets.push( <td key={col} className={'borderRight tdBottom col'+col}></td> )\n          else {      //bottom fret frame\n            frets.push(<td key={col} className={'tdBottom col'+col}></td>)\n           }\n\n        }else{   // generate frets with right and left borders\n\n          if(col === fretMax +1){   // right border\n            frets.push( <td key={col} data-strn={strN} data-col={col} className={'borderRight col'+col}></td> )\n          } \n          else{ //fretboard cells\n            let btn = null, stringdiv = null\n\n            if(strN >= 1 && strN <= 6)\n              stringdiv = <div className='stringdiv' onClick={this.fretClick} data-strn={strN} data-fretn={col} ></div>\n\n            //process fret button\n            if( fretFltr === false    //no filter applied to fret\n             && strgFltr === false    //no filter applied to string\n             && col >= first \n             && col <= last){         //filter by fretboard range\n              let note = q.noteByFret( strN, col )\n\n              if(qry.rootType === 'selNote' && this.props.selNoteVal === 'All'){\n                btn = qq.button( note, 'ALL' )  //no root when showimg all notes\n              }\n              else {\n                btn = local_scaleFind(note)\n                if(btn === null) btn = local_chordFind(note)\n                if(btn === null) btn = local_ivlFind(note)\n                if(btn === null){\n                  if(qry.rootType === 'fretRoot')\n                    btn = local_rootFind(note)  //only select the fret clicked\n                  else\n                  if(qry.rootType === 'selNote')\n                    btn = local_noteFind(note)  //select all frets with letter = selNoteVal\n                }\n                if(btn === null) btn = local_octaveFind(note)\n              }\n            }  \n\n            frets.push(<td key={col} className={'fret fret'+col} onClick={this.fretClick} \n              data-strn={strN} data-fretn={col} data-fretfilter={fretFltr} >\n              {btnStrFltr}\n              {btn}\n              {stringdiv}\n              <div className='fretbar' onClick={this.fretClick} data-strn={strN} data-fretn={col} ></div>\n            </td>)\n           }\n        }\n      }\n\n      if(row === 1) \n        ss = 'frame frameTop'\n      else\n      if(row === 8) \n        ss = 'borderBottom'\n      else\n      if(row === 9) \n        ss = 'frame frameBottom'\n      else{\n        ss = 'strg strg' +(row -1)\n      }\n      trArray.push( <tr key={row} className={ss} data-fltr={strgFltr}>{frets}</tr> )\n    }\n    return (\n      <div className='fretPnlContainer'>\n        <table className='fretPnl'><tbody>\n          {trArray}\n        </tbody></table>\n      </div>\n    )\n  }\n}\n\nexport default FretPnl\n","/*\n  QueryPnl.js\n  - by Chris DeFreitas, chrisd@europa.com\n  - manage query controls for GuitarJoe app\n\n*/\nimport React from 'react'\nimport q from \"./guitar_lib.js\"\n\n\nclass QueryPnl extends React.Component {\n\n  constructor(props){\n    super(props)\n\n    this.btnDupeClick = this.btnDupeClick.bind(this)\n    this.btnDelClick = this.btnDelClick.bind(this)\n\n    this.last = {}    //store last query params before reset via label.click\n    this.selLabelClick = this.selLabelClick.bind(this)\n\n    this.selChordChange = this.selChordChange.bind(this)\n    this.btnClearClick = this.btnClearClick.bind(this)\n    this.btnCollapseClick = this.btnCollapseClick.bind(this)\n    this.selFretNoChange = this.selFretNoChange.bind(this)\n    this.selIntervalChange = this.selIntervalChange.bind(this)\n    this.selNoteChange = this.selNoteChange.bind(this)\n    this.selOctaveChange = this.selOctaveChange.bind(this)\n    this.selScaleChange = this.selScaleChange.bind(this)\n    this.infoNoteClick = this.infoNoteClick.bind(this)\n  }\n\n  //event handlers\n  btnDelClick(){\n    this.props.remove()\n  }\n  btnDupeClick(){\n    this.props.duplicate()\n  }\n  btnCollapseClick(){\n    let val = !this.props.qry.collapsed\n    this.props.stateChange( 'collapsed', val )\n  }\n  btnClearClick(){\n    // this.props.dispatch({ type:\"FretboardActions/fretFirstUpdate\", payload:'' })\n    this.props.reset()\n  }\n  infoNoteClick(event){\n    let btn = event.target   \n    if(btn.className !== 'ivl')\n      btn = btn.parentNode\n      \n    let letter = btn.dataset.letter     \n    // console.log('infoNoteClick', btn, letter)\n    if(typeof letter === 'string')\n      this.props.stateChange( 'noteFilter', letter, btn.className )\n  }\n  selLabelClick( event ){     //reset param to off value\n    let qry = this.props.qry,\n      lbl = event.target,\n      val = lbl.dataset.selected\n    // console.log('last', this.last)\n    if(val === 'true'){\n      if(lbl.dataset.type === 'note'){\n        if(qry.rootType === '') return\n        \n        this.last['rootType'] = qry.rootType\n        this.last['root'] = qry.root\n        if(this.last['rootType'] === 'selNote')\n          this.props.stateChange( 'selNoteVal', '' )\n        if(this.last['rootType'] === 'fretRoot')\n          this.props.stateChange( 'fretRoot', null )\n      }else\n      if(lbl.dataset.type === 'chord'){\n        if(qry.chord === null) return\n        this.last['chordName'] = qry.chord.name\n        this.props.stateChange( 'chordName', '' )\n      }else\n      if(lbl.dataset.type === 'scale'){\n        if(qry.scale === null) return\n        this.last['scaleName'] = qry.scale.name\n        this.props.stateChange( 'scaleName', '' )\n      }else\n      if(lbl.dataset.type === 'octave'){\n        this.last['octave'] = qry.octave\n        this.props.stateChange( 'octave', 0 )\n      }else\n      if(lbl.dataset.type === 'ivlName'){\n        this.last['ivlName'] = this.props.ivlName\n        this.props.stateChange( 'ivlName', '' )\n      }\n    }\n    else{   //allow toggling param on and off\n      if(lbl.dataset.type === 'note'){\n        if( !this.last.rootType ) return\n        if(this.last.rootType === 'selNote'){\n          if(this.last['root'] !== null)\n            this.props.stateChange( 'selNoteVal', this.last['root'].letter )\n        } else\n        if(this.last.rootType === 'fretRoot'){\n          if(this.last['root'] !== null)\n            this.props.stateChange( 'fretRoot', this.last['root'] )\n        }\n      }else\n      if(lbl.dataset.type === 'chord'){\n        if(this.last['chordName'] && this.last['chordName'] !== '')\n          this.props.stateChange( 'chordName', this.last['chordName'] )\n      }else\n      if(lbl.dataset.type === 'scale'){\n        if(this.last['scaleName'] && this.last['scaleName'] !== '')\n          this.props.stateChange( 'scaleName', this.last['scaleName'] )\n      }else\n      if(lbl.dataset.type === 'octave'){\n        if(this.last['octave'] && this.last['octave'] !== '')\n          this.props.stateChange( 'octave', this.last['octave'] )\n      }else\n      if(lbl.dataset.type === 'ivlName'){\n        if(this.last['ivlName'] && this.last['ivlName'] !== '')\n          this.props.stateChange( 'ivlName', this.last['ivlName'] )\n      }\n    }\n  }\n  selFretNoChange( event ){\n    let sel = event.target,\n      fretN = sel.options[sel.selectedIndex].value\n    this.props.stateChange( 'fretN', fretN )\n    //   this.props.dispatch({ type:\"FretboardActions/fretFirstUpdate\", payload:fretN })\n  }\n  selNoteChange( event ){\n    let sel = event.target,\n      val = sel.options[sel.selectedIndex].text\n    this.props.stateChange( 'selNoteVal', val )\n    //   this.props.dispatch({ type:\"FretboardActions/semisUpdate\", val })\n  }\n  selOctaveChange( event ){\n    let sel = event.target,\n      val = sel.options[sel.selectedIndex].text\n    if(val === '')\n      this.props.stateChange( 'octave', 0 )\n    else\n      this.props.stateChange( 'octave', Number(val) )\n  }\n  selIntervalChange( event ){\n    let sel = event.target,\n      opt = sel.options[sel.selectedIndex],\n      abr = opt.dataset.abr\n    this.props.stateChange( 'ivlName', abr )\n  }\n  selChordChange( event ){\n    let sel = event.target,\n      val = sel.options[sel.selectedIndex].text\n    this.props.stateChange( 'chordName', val )\n  }\n  selScaleChange( event ){\n    let sel = event.target,\n      val = sel.options[sel.selectedIndex].text\n    this.props.stateChange( 'scaleName', val )\n  }\n\n  // draw controls\n  drawSelNote(){\n    let qry = this.props.qry,\n      list = [<option key='' ></option>,<option key='999' >All</option>]\n    for(let ii=0; ii < q.letters.length; ii++){\n      let note = q.letters[ii]\n      list.push(<option key={ii} >{note}</option>)\n    }\n\n    let letter = (qry.letter === null ?'' :qry.letter)\n    return (\n      <div className='dataPnl pnlNote'>\n        <label data-selected={letter !== ''} data-type='note' onClick={this.selLabelClick} >Note</label>\n        <select value={letter} className='selNote' onChange={this.selNoteChange} >{list}</select>\n      </div>\n    )\n  }\n  drawSelOctave(){\n    let qry = this.props.qry,\n      oct = qry.octave,\n      omin = 0, omax = 0,\n      list = [<option key={999} ></option>]\n\n    omin = q.noteByFret(6, 0).octave\n    omax = q.noteByFret(1, q.fretboard.fretMax).octave\n\n    for(let ii = omax; ii >= omin; ii--){\n      list.push(<option key={ii} >{ii}</option>)\n    }\n    return (\n      <div className='dataPnl pnlOctave'>\n        <label data-selected={oct !== 0} data-type='octave' onClick={this.selLabelClick} >Octave</label>\n        <select value={oct} className='selOctave' onChange={this.selOctaveChange}>\n           {list}\n        </select>      \n      </div>\n    )\n  }\n  drawSelScale(){\n    let selected = this.props.scaleName,\n      ii=0, list = [<option key='aaa'></option>]\n    for(let scale of q.scales.list){\n      list.push(<option key={++ii} >{scale.name}</option>)\n    }\n    return (\n      <div className='dataPnl pnlScale'>\n        <label data-selected={selected !== ''} data-type='scale' onClick={this.selLabelClick} >Scale</label>\n        <select value={selected} className='selScale' onChange={this.selScaleChange} >\n          {list}\n        </select>      \n      </div>\n    )\n  }\n  drawSelChord(){\n    let ii = 0,\n      selected = this.props.chordName, \n      list = [<option key='aaa'></option>]\n    for(let chd of q.chords.list){\n      list.push(<option key={++ii} >{chd.name}</option>)\n    }\n    return (\n      <div className='dataPnl pnlChord'>\n        <label data-selected={selected !== ''} data-type='chord' onClick={this.selLabelClick} >Chord</label>\n        <select value={selected} className='selChord' onChange={this.selChordChange} >\n          {list}\n        </select>      \n      </div>\n    )\n  }\n  drawSelInterval(){\n    let qry = this.props.qry,\n      list = [<option key='aaa' ></option>],\n      ii = 0, selected = '' //, last = ''\n    for(let ivl of q.intervals.list){\n      if(ivl.semis === 0) continue\n      if(ivl.semis === 12) continue\n      // if(ivl.abr === last) continue  should be unique\n      let html = `${ivl.name} (${ivl.abr}, ${ivl.semis})`\n      list.push(<option key={++ii} data-abr={ivl.abr} >{html}</option>)\n      if(qry.ivl !== null && selected === '' && qry.ivl.abr === ivl.abr)\n        selected = html\n      // last = ivl.abr\n    }\n    return (\n      <div className='dataPnl pnlInterval'>\n        <label data-selected={selected !== ''} data-type='ivlName' onClick={this.selLabelClick} >Interval</label>\n        <select value={selected} className='selInterval' title='Intervals sorted by semis-tones'\n          onChange={this.selIntervalChange} \n        >\n          {list}\n        </select>      \n      </div>\n    )\n  }  \n  drawInfo( collapsed ){\n    let qry = this.props.qry, arrow = null, selected = 0\n    // console.log('queryPnl.drawInfo', qry)\n    if(collapsed === 'qryCollapsed')\n      arrow = (<div className='qryBtn qryBtnExpand' onClick={this.btnCollapseClick} title=\"Show query panel\" > <div>&#10148;</div> </div>)\n\n    let html = []\n    if(qry.rootType === 'selNote' && this.props.selNoteVal === 'All'){    //special case\n      html.push( <span key='allNotes' className='propName'>{'All Notes'}</span> )\n      if(qry.octave !== 0){\n        html.push( <span key={'qryOct'+qry.octave} className='ivl'>{': Octave '}{qry.octave} </span> )\n      }\n    }\n    else{\n      if(qry.scale !== null){\n        html.push( <span key='qryScale' className='propName'>{qry.root.letter +' ' +qry.scale.name +':'}</span> )\n        qry.scale.ivls.forEach( ivl => {\n          if(qry.noteFilter.indexOf( ivl.letter ) >= 0) selected = 'noteFilter'\n          else selected = 0\n          \n          html.push( <span key={'qryScale'+ivl.abr} className='ivl'\n            onClick={this.infoNoteClick} data-letter={ivl.letter} data-selected={selected}\n          >&nbsp;{ivl.letter} <sub>{ivl.abr}</sub> </span> )\n        })\n      }\n      if(qry.chord !== null){\n        html.push( <span key='qryChord' className='propName'>{qry.root.letter +' ' +qry.chord.name +':'}</span> )\n        qry.chord.ivls.forEach( ivl => {\n          if(qry.noteFilter.indexOf( ivl.letter ) >= 0) selected = 'noteFilter'\n          else selected = 0\n\n          html.push( <span key={'qryChord'+ivl.abr} className='ivl'\n            onClick={this.infoNoteClick} data-letter={ivl.letter} data-selected={selected}\n           >&nbsp;{ivl.letter} <sub>{ivl.abr}</sub> </span> )\n        })\n      }\n      if(qry.ivl !== null){\n        if(qry.noteFilter.indexOf( qry.ivl.letter ) >= 0) selected = 'noteFilter'\n        else selected = 0\n        \n        html.push( <span key='qryIvl' className='propName'>{qry.letter +' +' +qry.ivl.name +':'}</span> )\n        html.push( <span key={'qryIvl'+qry.ivl.abr} className='ivl'\n          onClick={this.infoNoteClick} data-letter={qry.ivl.letter} data-selected={selected}\n        >&nbsp;{qry.ivl.letter} <sub>{qry.ivl.abr}</sub> </span> )\n      }\n    }\n    return (\n      <div className='infoPnl'>\n        {arrow}\n         <div className='infoDiv'>{html}</div>\n      </div>\n    )      \n  }\n\n  render(){\n    // console.log('queryPnl.render()', this.props)\n\n    let collapsed = (this.props.qry.collapsed ?'qryCollapsed' :'qryExpanded')\n \n    let selNote = this.drawSelNote()\n    let selOct = this.drawSelOctave()\n    let selInt = this.drawSelInterval()\n    let selScale = this.drawSelScale()\n    let selChord = this.drawSelChord()\n    let infoPnl = this.drawInfo( collapsed )\n    return (\n      <div className={'queryPnl '+collapsed} >\n        <div className='qryBtn qryBtnCollapse' onClick={this.btnCollapseClick}\n            title=\"Hide query panel\" >\n          <div>&#10148;</div>\n        </div>\n        <div className='queryControls '>\n          {selNote}\n          {selOct}\n          {selScale}\n          {selChord}\n          {selInt}\n        </div>\n        <div className='qryBtn qryBtnClear' onClick={this.btnClearClick} title='Reset query controls'>&#8635;</div>\n        <div className='qryBtn qryBtnDupe' onClick={this.btnDupeClick} title='Duplicate fretboard' >&#10010;</div>\n        { this.props.fbid === 0 ?null\n          :<div className='qryBtn qryBtnDel' onClick={this.btnDelClick} title='Remove this fretboard' >&#10000;</div>\n        }\n        {infoPnl}\n      </div>\n    )\n  }\n}\n\nexport default QueryPnl\n","/*\nFretboard.js\n  - by Chris DeFreitas, chrisd@europa.com\n  - top level container for fretboard controls of GuitrJoe app\n  - store shared state for FretPnl.js and QueryPnl.js\n\n*/\n\nimport React from 'react';\nimport './Fretboard.css';\n\nimport FretPnl from \"./FretPnl.js\";\nimport QueryPnl from \"./QueryPnl.js\";\nimport q from \"./guitar_lib.js\";\n\nclass Fretboard extends React.Component{\n\n  constructor (props) {\n    console.log('Fretboard.constructor()', props)\n    super(props)\n    //keep state private to control children\n    this.state = {\n\t\t\tfbid:(props.fbid ?props.fbid :0),\n\t\t\t\n      collapsed:(props.collapsed ?props.collapsed :false),\n      fretFirst:(props.fretFirst ?props.fretFirst :0),\n      fretLast:(props.fretLast ?props.fretLast :q.fretboard.fretMax),\n      fretBtnText:(props.fretBtnText ?props.fretBtnText :'NoteFirst'),    //one of: NoteFirst, IvlFirst\n      fretFilter:(props.fretFilter ?props.fretFilter :''),      //csv of fretN, if found then disable fret\n      strgFltrList:(props.strgFltrList ?props.strgFltrList :''),    //csv of strN, if found then hide notes\n      noteFilter:(props.noteFilter ?props.noteFilter :[]),    //notes on fetboard where button.data-selected=2; set be clicking infoPnl note\n\n      rootType:(props.rootType ?props.rootType :'s'),    //one of: [null, fretRoot, selNote]\n      fretRoot:(props.fretRoot ?props.fretRoot :null),          //note object, set when fret clicked\n      selNoteVal:(props.selNoteVal ?props.selNoteVal :''),   //string, contains note selected in selNote\n      octave:(props.octave ?props.octave :0), \n      scaleName:(props.scaleName ?props.scaleName :''),\n      chordName:(props.chordName ?props.chordName :''),\n      ivlName:(props.ivlName ?props.ivlName :''), \n    }\n    this.duplicate = this.duplicate.bind(this)\n    this.remove = this.remove.bind(this)\n    this.reset = this.reset.bind(this)\n    this.stateChange = this.stateChange.bind(this)\n    this.strgFltr = this.strgFltr.bind(this)\n    this.makeQuery = this.makeQuery.bind(this)\n  }  \n  reset(){\n    this.setState({ collapsed:false })\n    this.setState({ noteFilter:[] })\n    this.setState({ strgFltrList:'' })\n    this.setState({ fretFilter:'' })\n    this.setState({ scaleName:'' })\n    this.setState({ chordName:'' })\n    this.setState({ rootType:'' })\n    this.setState({ ivlName:'' })\n    this.setState({ fretRoot:null })\n    this.setState({ selNoteVal:'' })\n    this.setState({ octave:0 })\n    this.setState({ fretBtnText:'NoteFirst' })\n  }\n  strgFltr( strN ){   //return strgFltrList[n -1] (true/false) or null\n    strN = Number(strN)\n    if(strN < 1 || strN > 6) return null\n    return ( this.state.strgFltrList.indexOf( strN+',' ) >= 0 )\n  }\n  remove(){\n    this.props.remove( this )\n  }\n  duplicate(){\n    this.props.duplicate( this )\n  }\n  stateChange( key, val){\n    // if(key === 'rootType')   //only manually set below; can be prop instead of state\n    //   this.setState({ rootType:val })\n    // else\n    if(key === 'collapsed'){\n      this.setState({ collapsed:val })\n    }else\n    if(key === 'noteFilter'){\n      let list = this.state.noteFilter.slice()\n      let idx = list.indexOf( val )\n \n      if(idx < 0) list.push( val )\n      else list.splice( idx, 1 )\n      \n      this.setState({ noteFilter:list })\n    }else\n    if(key === 'fretBtnText'){\n      this.setState({ fretBtnText:val })\n    }else\n    if(key === 'fretFilter'){\n      let fval = `\"${val}\",`,\n        ii = this.state.fretFilter.indexOf( fval )\n      if(ii < 0)   //add to list\n        val = this.state.fretFilter +fval    \n      else         //remove from list\n        val = this.state.fretFilter.replace(fval, '')\n      this.setState({ fretFilter:val })\n    }else\n    if(key === 'fretRoot'){\n      this.setState({ fretRoot:val })\n      if(val === null){\n         this.setState({ rootType:'' })\n         this.setState({ selNoteVal:'' })\n      }else\n        this.setState({ rootType:'fretRoot' })\n    }else\n    if(key === 'selNoteVal'){\n      this.setState({ selNoteVal:val })\n      if(val === ''){\n        this.setState({ rootType:'' })\n        this.setState({ fretRoot:null })\n      }else\n        this.setState({ rootType:'selNote' })\n    }else\n    if(key.substr(0,8) === 'strgFltr'){\n      let strN = Number(key.substr(8,1)),\n        flt = this.state.strgFltrList.slice()\n\n      // console.log('stateChange:', key, val, flt)\n      if(strN < 1 || strN > 6) throw Error (`Fretboard.stateChange() error, strN is wrong:[${key}].`)\n\n      let ii = flt.indexOf(strN+',')\n      if(val === true){ //add to list\n        if(ii < 0){\n          flt += strN+','\n          // console.log('stateChange Add:', key, val, flt)\n           this.setState({ strgFltrList:flt })\n        }\n      }\n      else{ //remove from list\n        if(ii >= 0){\n          flt = flt.replace(strN+',')\n          // console.log('stateChange Del:', key, val, flt)\n           this.setState({ strgFltrList:flt })\n        }\n      }\n    }else\n    if(key === 'fretFirst')\n      this.setState({ fretFirst:val })\n    else\n    if(key === 'fretLast')\n      this.setState({ fretLast:val })\n    else\n    if(key === 'octave')\n      this.setState({ octave:val })\n    else\n    if(key === 'scaleName'){\n      this.setState({ scaleName:val })\n    }else\n    if(key === 'chordName'){\n      this.setState({ chordName:val })\n    }else\n    if(key === 'ivlName'){\n      this.setState({ ivlName:val })\n    }else\n    if(key === 'semis')\n      this.setState({ semis:val })\n  }\n  makeQuery(){\n    let qry = {\n      rootType: this.state.rootType,\n      root: null,\n      letter: (this.state.rootType === 'fretRoot' ?this.state.fretRoot.letters[0] :this.state.selNoteVal), \n      octave: this.state.octave,\n      scale: null,\n      chord:null,\n      ivl: null,\n\n      collapsed: this.state.collapsed,\n      fretBtnText: this.state.fretBtnText,\n      fretFilter: this.state.fretFilter,\n      noteFilter: this.state.noteFilter\n    }\n    if(qry.rootType === 'fretRoot')\n      qry.root = this.state.fretRoot    //note object, set in FretPnl.fretClick()\n    if(qry.rootType === 'selNote' && qry.letter !== '' && qry.letter !== 'All')\n      qry.root = q.noteByLetter( qry.letter )    //note object\n    if(this.state.scaleName !== '' && qry.root)\n      qry.scale = q.scales.toObj( qry.letter, this.state.scaleName )\n    if(this.state.chordName !== '' && qry.root)\n      qry.chord = q.chords.toObj( qry.letter, this.state.chordName )\n    if(this.state.ivlName !== '' && qry.root){\n      qry.ivl = q.intervals.byName( this.state.ivlName )    //this.props.ivlName == abr\n      qry.ivl.letter = q.letterCalc( qry.letter, qry.ivl )\n    }\n    return qry\n  }\n  render(){\n    let qry = this.makeQuery()\n    console.log('Fretboard.render()', this.props, this.state, qry)\n    return(\n      <div className='fretboard' id={'Fretboard'+this.props.fbid}>\n        <FretPnl\n          collapsed={this.state.collapsed}\n          fretFirst={this.state.fretFirst}\n          fretLast={this.state.fretLast}\n\n          ivlName={this.state.ivlName}\n\n          selNoteVal={this.state.selNoteVal} \n\n          qry={qry}\n          stateChange={this.stateChange}\n          strgFltr={this.strgFltr}\n        />\n        <QueryPnl \n          fbid={this.props.fbid}\n          collapsed={this.state.collapsed}\n          fretFirst={this.state.fretFirst}\n          fretLast={this.state.fretLast}\n\n          selNoteVal={this.state.selNoteVal} \n          chordName={this.state.chordName}\n          scaleName={this.state.scaleName}\n          ivlName={this.state.ivlName}\n\n          duplicate={this.duplicate}\n          qry={qry}\n          remove={this.remove}\n          reset={this.reset} \n          stateChange={this.stateChange}\n          strgFltr={this.strgFltr} \n         />\n      </div>\n    )\n  }\n}\n\nexport default Fretboard;\n","/*\n  About Dialog\n  - for GuitarJoe by Chris DeFreitas\n\n  requires:\n    Dialog.css\n*/\nimport React from 'react';\nimport Popup from 'reactjs-popup';\nimport './Dialog.css';\n\nconst About = () => (  \n  <Popup\n    trigger={<button className=\"btnInfo\">About</button>}\n    modal\n    nested\n  >\n    {close => (\n      <div className=\"modal\">\n        <div className=\"header\"> About GuitarJoe </div>\n        <div className=\"content\">\nImportant: <br />\n&nbsp;- please explore by clicking/tapping stuff<br />\n&nbsp;- clicking a fret or selecting a note provide different results<br />\n&nbsp;- zoom using your browser's zoom controls\n<br /><br />\nGuitarJoe is a free web application, no ads, no logins, no tracking.  \nThe goal was to create a tool that would make guitar theory accessible while practicing.\nI am not anything close to a musician, so\nI was going crazy taking notes and diagraming chords, scales and intervals: I needed a tool\nto facilitate my understanding so I could focus on the guitar instead of managing scraps of information.\nThis application has successfully reduced my hair loss--I hope it has the same effect on you!\n<br /><br />\nThe basic functionality is stable. \nAt this point it is a proof of concept as I wrangle technologies and concepts.  \nThere is a lot more planned, the ToDo list is in the <a href='https://github.com/ChrisDeFreitas/guitarjoe/blob/main/README.md#todo' target='_new'>project documentation</a>.\nMy aim is to keep the app freely available to support those learning guitar; a warm thanks for those who have supported my various journeys.\n<br /><br />\n&nbsp;- Tested to work in Chrome, Firefox, and Safari(iPad)<br />\n&nbsp;- Review documentation, updates and references in the <a href='https://github.com/ChrisDeFreitas/guitarjoe/' target='_new'>GitHub Repository</a> <br />\n&nbsp;- Send comments and bugs to <a href='mailto:chrisd@europa.com?subject=GuitarJoe:'>chrisd@europa.com</a>\n<br /><br />\nThanks to<br />\n&nbsp;- Application hosted on <a href='https://github.com/ChrisDeFreitas/guitarjoe' target='_new'>Github</a>  <br />\n&nbsp;- Background image from <a href='https://www.flickr.com/photos/webtreatsetc/with/4514047664/' target='_new'>WebTreats ETC</a> <br />\n&nbsp;- Built with the <a href='https://reactjs.org/' target='_new'>React</a> Javascript library <br />\n&nbsp;- Chords verified using <a href='https://www.omnicalculator.com/other/chord' target='_new'>Omni Chord Calculator</a><br />\n&nbsp;- Fuggles font by Robert Leuschke on <a href='https://fonts.google.com/?query=Robert+Leuschke/' target='_new'>Google Fonts</a> <br />\n&nbsp;- Guitar icon by monkik from the <a href='https://thenounproject.com/term/guitar/2588464/' target='_new'>Noun Project</a> <br />\n&nbsp;- Intervals verified using <a href='https://www.omnicalculator.com/other/music-interval' target='_new'>Omni Music Interval Calculator</a><br />\n&nbsp;- Music theory from <a href='https://www.wikipedia.org/' target='_new'>Wikipedia</a><br />\n&nbsp;- Popup control from <a href='https://react-popup.elazizi.com/' target='_new'>reactjs-popup</a> <br />\n&nbsp;- Scales verified using <a href='https://www.scales-chords.com/scalenav.php' target='_new'>ScaleChords Musical Scale Navigator</a><br />\n<br />\nCreated by Chris DeFreitas, BC Canada<br />\n        </div>\n        <div className=\"actions\">\n          <button\n            className=\"button\"\n            onClick={() => {\n              console.log('modal closed ');\n              close();\n            }}\n          >\n            Close\n          </button>\n        </div>\n      </div>\n    )}\n  </Popup>\n)\n\nexport default About","/*\n  App.js\n  - by Chris DeFreitas, chrisd@europa.com\n  - entrypoint for GuitrJoe app\n\n*/\nimport React, { useState } from 'react';\n\nimport './App.css';\n// import './Bgnd.css';\n// import Bgnd from \"./Bgnd.js\";\nimport Fretboard from \"./Fretboard.js\"\nimport About from \"./AboutDlg.js\"\nimport { ReactComponent as Logo } from './resources/logo.svg'\n\n\nfunction App(){\n\n  const [fbs, setFbs] = useState( [{id:0, state:true}] )  //one cell for each fretboard instance\n  const [newid, setNewId] = useState( null )\t\t// assigned in duplicate()\n  \n  function indexOfFbid( fbid ){\n    for(let ii=0; ii < fbs.length; ii++){\n      if(fbs[ii].id === fbid)\n        return ii\n    }\n    return false\n  }\n  function duplicate( fretboard ){\n    let fbid = fretboard.props.fbid,\n      list = fbs.slice(),\n      nid = list.length,\n      obj = {id:nid, state:fretboard.state},\n      idx = indexOfFbid( fbid )\n      \n    if(idx === false)\n      throw new Error(`App.duplicate() error, fbid=[${fbid}] not found.`)\n      \n    list.splice( (idx +1), 0, obj)\t\t\n    setFbs( list )\n    setNewId( nid )\n    // console.log('App.duplicate', list)\n  }\n  function remove( fretboard ){\n    let fbid = fretboard.props.fbid,\n      list = fbs.slice(),\n      idx = indexOfFbid( fbid )\n     \n    if(idx === false)\n      throw new Error(`App.remove() error, fbid=[${fbid}] not found.`)\n\n    list[ idx ].state = false\n    setNewId( null )\n    setFbs( list )\n    // console.log('App.remove()', fbid, list)\n  }\n\n  let list = [], fbCount=fbs.length\n  for(let ii=0; ii < fbCount; ii++){\n    let el = null,\n      id = fbs[ii].id,       //use in .key to help react\n      state = fbs[ii].state  //one of: true, state object, false(a deleted fretboard)\n    if(id === newid){   //create new fretboard\n      el = <Fretboard key={id} fbid={id} duplicate={duplicate} remove={remove} \n\t\t\t\tcollapsed={state.collapsed}\n\t\t\t\tfretFirst={state.fretFirst}\n\t\t\t\tfretLast={state.fretLast}\n\t\t\t\tfretBtnText={state.fretBtnText}\n\t\t\t\tfretFilter={state.fretFilter}\n\t\t\t\tstrgFltrList={state.strgFltrList}\n        noteFilter={state.noteFilter}\n\t\t\t\trootType={state.rootType}\n\t\t\t\tfretRoot={state.fretRoot}\n\t\t\t\tselNoteVal={state.selNoteVal} \n\t\t\t\toctave={state.octave} \n\t\t\t\tscaleName={state.scaleName}\n\t\t\t\tchordName={state.chordName}\n\t\t\t\tivlName={state.ivlName}\n      />\n    }else{\n      if(state !== false) //existing fretboard; magic of react does not overwrite old data\n        el = <Fretboard key={id} fbid={id} duplicate={duplicate} remove={remove} />\n    }\n    if(el != null)\n      list.push( el )\n  }\n\n  return (\n    <div className=\"App\">\n\t\t\t<header className=\"App-header header\">\n        <Logo className=\"Logo\" alt=\"Logo\" />\n        GuitarJoe v0.1.2 <About />\n      </header>\n\t\t\t{list}\n    </div>\n  )\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './index.css';\nimport App from './App';\n// import reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n\t  <App />\n\t</React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals( console.log );\n"],"sourceRoot":""}