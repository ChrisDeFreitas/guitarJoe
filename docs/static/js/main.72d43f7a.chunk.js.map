{"version":3,"sources":["guitar_lib.js","resources/logo.svg","FretPnl.js","QueryPnl.js","Fretboard.js","AboutDlg.js","App.js","index.js"],"names":["q","chords","list","name","abr","intervals","byName","str","chord","Object","assign","obj","root","chordName","ivls","preferFlats","indexOf","note","iname","ivl","notes","calc","push","type","fullName","fullAbbrev","fretboard","strings","num","octave","semis","tabLetter","fretMin","fretMax","fretMinSet","nn","init","fretMaxSet","ii","length","strg","semisCalc","strgN","fretInRange","max","fret","Number","tab","bySemis","objBySemis","objByTab","ltr","substr","tabByFret","strN","byNote","toUpperCase","nm","returnFirst","alpha","ivlOrName","rprefix","rsuffix","iprefix","idx","newlet","newsfx","local_inc","objByNote","fobj","Math","floor","scales","short","scaleName","scale","ivlAbr","shortName","abbrevName","octaveNum","_g","FretPnl","props","buttonClick","bind","fretBtnTextChange","fretClick","fretFltrClick","strgFltrClick","event","btn","target","nodeName","parentNode","selected","dataset","stopPropagation","this","qry","fretBtnText","stateChange","cell","strn","isNaN","console","log","fretfilter","clientY","getBoundingClientRect","top","offsetHeight","strgFltr","currentTarget","fretFilter","newstate","nobj","capStyle","btnState","rootType","noteFilter","btncaption","key","className","onClick","qq","local_rootFind","button","local_noteFind","local_octaveFind","local_scaleFind","local_chordFind","local_ivlFind","trArray","first","fretFirst","last","fretLast","ss","row","frets","col","fval","fretFltr","btnStrFltr","cls","collapsed","onMouseDown","stringdiv","selNoteVal","React","Component","QueryPnl","btnDupeClick","btnDelClick","selLabelClick","selChordChange","btnClearClick","btnCollapseClick","selIntervalChange","selNoteChange","selOctaveChange","selScaleChange","infoNoteClick","remove","duplicate","val","reset","lbl","ivlName","sel","options","selectedIndex","text","value","onChange","omin","oct","chd","html","title","arrow","forEach","selNote","drawSelNote","selOct","drawSelOctave","selInt","drawSelInterval","selScale","drawSelScale","selChord","drawSelChord","infoPnl","drawInfo","fbid","Fretboard","state","strgFltrList","fretRoot","makeQuery","setState","slice","splice","replace","flt","Error","id","About","trigger","modal","nested","close","href","_excluded","_extends","i","arguments","source","prototype","hasOwnProperty","call","apply","_objectWithoutProperties","excluded","sourceKeys","keys","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgLogo","_ref","svgRef","titleId","xmlns","viewBox","x","y","ref","fill","stroke","strokeWidth","d","points","width","height","ForwardRef","App","useState","fbs","setFbs","newid","setNewId","indexOfFbid","nid","fbCount","el","alt","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.72d43f7a.chunk.js","sourcesContent":["/*\n  //♭ &flat; alt+?\n  \n  GuitarJoe's guitar logic\n  by Chris DeFreitas, chrisd@europa.com\n  \n   Note:\n    - note refers to what we usually call a note: C#\n    - nobj is a note object: { strg:{}, fret:int, note:'C#', semis:49, ... }\n    - note.semis is unique\n    - fret is an integer\n    - fobj is a fret object: { strg:{}, fret:int, tab:'e12' }\n    - ivl is an interval object: intervals.list[n]\n    - assume: exception handling performed by caller\n\n  Todo:\n    - refactor fret objects to be generated by a factory function\n    - refactor for code consistency\n    - fix q.chords.make() (when code needed)\n    - (when needed) update notes.calc() for ##/bb -- see comments in function\n  \n */\n\nvar q = {\n\n  chords: {\n    //verified against: https://www.omnicalculator.com/other/chord\n    list:[\n      {\n        name:'Major triad', abr:'maj',\n        intervals:[ 'P1', 'M3', 'P5' ]\n      },{\n        name:'Minor triad', abr:'min',\n        intervals:[ 'P1', 'm3', 'P5' ]\n      },{\n        name:'Augmented triad', abr:'aug',\n        intervals:[ 'P1', 'M3', 'A5' ]\n      },{\n        name:'Diminished triad', abr:'dim',\n        intervals:[ 'P1', 'm3', 'd5' ]\n      },{\n        name:'Dominant seventh', abr:'7',\n        intervals:[ 'P1', 'M3', 'P5', 'm7' ]\n      },{\n        name:'Major seventh', abr:'maj7',\n        intervals:[ 'P1', 'M3', 'P5', 'M7' ]\n      },{\n        name:'Minor seventh', abr:'min7',\n        intervals:[ 'P1', 'm3', 'P5', 'm7' ]\n      },{\n        name:'Major sixth', abr:'maj6',\n        intervals:[ 'P1', 'M3', 'P5', 'M6' ]\n      },{\n        name:'Minor sixth', abr:'min6',\n        intervals:[ 'P1', 'm3', 'P5', 'M6' ]\n      },{\n        name:'Suspended second', abr:'sus2',\n        intervals:[ 'P1', 'M2', 'P5' ]\n      },{\n        name:'Suspended fourth', abr:'sus4',\n        intervals:[ 'P1', 'P4', 'P5' ]\n      }\n    ],\n    byName( str ){\n      for(let chord of q.chords.list){\n        if(chord.abr === str || chord.name === str)\n          return Object.assign({}, chord )\n      }\n      return null\n    },\n    // todo: fix\n    // make( letter, chordAbbrev, octaveNum ){\n    //   let chord = q.chords.byName( chordAbbrev )\n    //   let semis = []\n    //   for(let stepnum = 0; stepnum < chord.semis.length; stepnum++){\n    //     let step = chord.semis[stepnum]\n    //     semis.push( q.semisCalc( step, octaveNum) )\n    //   }\n    //   return {\n    //     letter: letter.toUpperCase(),\n    //     octaveNum: octaveNum,\n    //     name:chord.name, abr:chord.abr, \n    //     semis: semis\n    //   }\n    //},\n    obj( root, chordName ){  //return chord with notes based on root\n      let ivls = [],\n        chord = q.chords.byName( chordName )\n      if(chord === null) return null\n\n      if(typeof root === 'string')\n        root = q.intervals.byName( root )   //object returned to caller\n      if(root === null) return null\n\n      let preferFlats = ( \n          chord.name.indexOf('Minor') >= 0  \n        ||chord.name.indexOf('Diminished') >= 0 \n        || root.note.indexOf('♭') >= 0)\n      for(let iname of chord.intervals){\n        let ivl = q.intervals.byName( iname )\n        let note = q.notes.calc( root, ivl, preferFlats )\n        ivls.push( Object.assign({}, ivl, { note:note } ))\n      }\n\n      let obj = Object.assign({}, chord, {\n        type:'chord',\n        fullName: root.note +' '+chord.name,\n        fullAbbrev: root.note +chord.abr,\n        root: Object.assign({}, root),\n        ivls:ivls\n       })\n\n      return obj\n    }\n  },\n\n  fretboard: {\n    strings: [\n      {num:1, note:'E', octave:4, semis:0, tabLetter:'e' },\n      {num:2, note:'B', octave:3, semis:0, tabLetter:'B' },\n      {num:3, note:'G', octave:3, semis:0, tabLetter:'G' },\n      {num:4, note:'D', octave:3, semis:0, tabLetter:'D' },\n      {num:5, note:'A', octave:2, semis:0, tabLetter:'A' },\n      {num:6, note:'E', octave:2, semis:0, tabLetter:'E' }\n    ],\n\n    fretMin:1,\n    fretMax:14,\n    fretMinSet( nn ){   //not used as yet\n      q.fretboard.fretMin = nn\n      q.fretboard.init()\n    },\n    fretMaxSet( nn ){   //not used as yet\n      q.fretboard.fretMax = nn\n      q.fretboard.init()\n    },\n\n    init(){\n      for(let ii = 0; ii <= q.fretboard.strings.length -1; ii++){\n        let strg = q.fretboard.strings[ii]\n        q.fretboard.strings[ii].semis = q.semisCalc(strg.note, strg.octave)\n      }\n    },\n    strg( strgN ){  \n      return Object.assign({}, q.fretboard.strings[ strgN -1 ])\n    },\n    fretInRange(note, root, num = 3){\n      let max = (num <= 5 ?5 :num)\n      if((root.fret <= 1 && note.fret <= max)\n      || (root.fret > 1 && note.fret >= (root.fret -num)  &&  note.fret <= (root.fret +num) ))\n        return true\n      return null\n    },\n    obj( strg, fret ){\n      if( typeof strg === 'number')\n        strg = q.fretboard.strg( strg )\n      let semis = strg.semis +Number(fret)\n      return {\n        fret:fret, \n        strg:Object.assign( {}, strg ), \n        tab:(strg.tabLetter +fret),\n        semis: semis,\n        notes: q.notes.bySemis(semis)\n      }\n    },\n    objBySemis( semis ){\n      let fret = null,\n        fretMax = q.fretboard.fretMax\n      for(let strg of q.fretboard.strings){\n        if(semis >= strg.semis && semis <= (strg.semis +fretMax)){\n          fret = ( semis -strg.semis )\n          return q.fretboard.obj( strg, fret )\n        }\n      }\n      return null\n    },\n    objByTab( tab ){\n      let ltr = tab.substr(0,1),\n        fret = Number(tab.substr(1))\n      for( let strg of q.fretboard.strings ){\n        if(strg.tabLetter === ltr){\n          return q.fretboard.obj( strg, fret )\n        }\n      }\n      return null\n    },\n    tabByFret( strN, fret ){  // return example: 'e12'\n      strN = Number( strN )\n      for( let strg of q.fretboard.strings ){\n        if(strg.num === strN){\n          return ( strg.tabLetter +fret )\n        }\n      }\n      return null\n    },\n  },\n\n  intervals:{\n    list:[\n      //rules:\n      // 1. order by semitones\n      // 2. prefer perfect, major, minor first\n      // 3. prefer minor over diminished\n      // 4. prefer augmented last\n      // 5. removed (♭♭, TT) because added complexity not relevant to most uses\n      // \n      {name:'Perfect unison', abr:'P1',  semis:0, note:'C' },\n      //{name:'Diminished second', abr:'d2', semis:0, note:'D♭♭' },\n      \n      {name:'Minor second', abr:'m2', semis:1, note:'D♭' },\n      {name:'Augmented unison', abr:'A1', semis:1, note:'C#' },\n      \n      {name:'Major second', abr:'M2', semis:2, note:'D' },\n      // {name:'Diminished third', abr:'d3', semis:2, note:'E♭♭' },\n      \n      {name:'Minor third', abr:'m3', semis:3, note:'E♭' },\n      {name:'Augmented second', abr:'A2', semis:3, note:'D#' },\n      \n      {name:'Major third', abr:'M3', semis:4, note:'E' },\n      {name:'Diminished fourth', abr:'d4', semis:4, note:'F♭' },\n\n      {name:'Perfect fourth', abr:'P4', semis:5, note:'F'},\n      {name:'Augmented third', abr:'A3', semis:5, note:'E#'},\n      \n      {name:'Diminished fifth', abr:'d5', semis:6, note:'G♭' },\n      {name:'Augmented fourth', abr:'A4', semis:6, note:'F#' },\n      // {name:'Tritone', abr:'TT', semis:6, note:'TT' },\n      \n      {name:'Perfect fifth', abr:'P5', semis:7, note:'G' },\n      // {name:'Diminished sixth', abr:'d6', semis:7, note:'A♭♭' },\n      \n      {name:'Minor sixth', abr:'m6', semis:8, note:'A♭' },\n      {name:'Augmented fifth', abr:'A5', semis:8, note:'G#' },\n      \n      {name:'Major sixth', abr:'M6', semis:9, note:'A' },\n      // {name:'Diminished seventh', abr:'d7', semis:9, note:'B♭♭' },\n      \n      {name:'Minor seventh', abr:'m7', semis:10, note:'B♭' },\n      {name:'Augmented sixth', abr:'A6', semis:10, note:'A#' },\n      \n      {name:'Major seventh', abr:'M7', semis:11, note:'B' },\n      {name:'Diminished octave', abr:'d8', semis:11, note:'C♭' },\n      \n      {name:'Perfect octave', abr:'P8', semis:12, note:'C' },\n      {name:'Augmented seventh', abr:'A7', semis:12, note:'B#' },\n    ],\n  \n    byNote( note ){\n      note = note.toUpperCase()\n      for(let ivl of q.intervals.list){\n        if(ivl.note === note)\n          return Object.assign({}, ivl)\n      }\n      return null\n    },\n    byName( nm ){\n      let note = nm.toUpperCase()\n      for(let ivl of q.intervals.list){\n        if(ivl.abr === nm || ivl.note === note || ivl.name === nm)\n          return Object.assign({}, ivl)\n      }\n      return null\n    },\n    bySemis( semis, returnFirst = false ){   //return intervals where semis match\n      semis = semis % 12\n      let list = []\n      for(let ivl of q.intervals.list){\n        if(ivl.semis > semis) break    //shortcircuit, intervals ordered by semis\n        if(ivl.semis === semis){\n          let obj = Object.assign({}, ivl)\n          if(returnFirst === true) return obj\n          list.push( obj )\n        }\n      }\n      return list\n    },\n  },\n\n  notes:{\n    list:['C','C#','D♭','D','D#','E♭','E','F','F#','G♭','G','G#','A♭','A','A#','B♭','B'],\n    alpha:['C','D','E','F','G','A','B'],\n\n    bySemis( semis, returnFirst = false ){\n      let list = []\n      semis = Number(semis) % 12\n      for(let ivl of q.intervals.list ){\n        if(ivl.semis === semis){\n          if(returnFirst === true) return ivl.note\n          list.push( ivl.note )\n        }\n        if(ivl.semis > semis) break //intervals ordered by semis\n      }\n      return list\n    },\n    calc( root, ivlOrName, preferFlats = false){  //iterate by semitones to get new note with correct #/b\n      // assume: preferFlats === true: return only flats\n\n      // to handle ##/bb:\n      // 1. pre-loop: resolve to standard note, get new root interval, proceed as normal: C## => D\n      // 2. post loop(???): if ivl requires ##/bb, manually resolve based on new note: D => C##\n\n      if(typeof root === 'object') root = root.note\n      let rprefix = root.substr(0,1)\n      let rsuffix = root.substr(1,2)\n      // console.log('root='+root, 'rprefix='+rprefix, 'rsuffix='+rsuffix)\n\n      let ivl = (typeof ivlOrName === 'object' ?ivlOrName : q.intervals.byName(ivlOrName))\n      let iprefix = ivl.abr.substr(0,1)    // A as in A1\n      // console.log('ivl.abr='+ivl.abr, 'iprefix='+iprefix )\n\n      // test: display matching intervals\n      // let rivl = q.intervals.byName( root )\n      // let list = q.intervals.bySemis( rivl.semis +ivl.semis )\n      // console.log( 'ivl.semis='+ivl.semis, '\\nlist=', list  )\n\n      //assume: no ## or bb used\n      let max = ivl.semis, idx = 0    //idx = q.notes.alpha.indexOf( ltr ) ::: test\n      let newlet = rprefix, newsfx = rsuffix\n      function local_inc( ltr ){\n        idx = q.notes.alpha.indexOf( ltr ) // this can probably be refactored out: notes.alpha[idx % 7] always === newlet; lookup not required\n        idx++\n        return q.notes.alpha[ idx % 7]\n      }\n      for(let ii = 0; ii < max; ii++){\n        // console.log('root='+root, 'newlet='+newlet+newsfx)\n        if(newlet === 'B' && newsfx === ''){ \n          newlet = 'C'; \n        }else\n        if(newlet === 'E' && newsfx === ''){ \n           newlet = 'F'; \n        }else\n        if(newsfx === '♭'){\n          newsfx = ''\n        }else\n        if(newsfx === '#'){\n          newsfx = ''\n          newlet = local_inc( newlet )\n        } \n        else  //newsfx === ''\n        if(iprefix === 'm' || iprefix === 'd'  || preferFlats === true){\n          newsfx = '♭'\n          newlet = local_inc( newlet )\n        }\n        else\n          newsfx = '#'\n      }\n      // console.log('root='+root, 'newlet='+newlet+newsfx)\n      return newlet+newsfx\n    },\n\n    obj( strg, fret, note = null  ){\n      if(typeof strg === 'number')\n        strg = q.fretboard.strg( strg )\n      let semis = strg.semis +fret,\n          octave = q.octave(semis),\n          list = q.notes.bySemis( semis )\n      return {\n        fret: fret,\n        note: (note === null ?list[0] :note),\n        notes: list,\n        octave: octave,\n        semis: semis,\n        strg: strg, \n        tab: strg.tabLetter +fret\n      }\n    },\n    objByNote( note ){\n      let ivl = q.intervals.byNote( note ),\n          semis = ivl.semis,\n          // octave = q.octave( semis ),\n          list = q.notes.bySemis( semis )\n          //, fobj = q.fretboard.objBySemis( semis )\n      return {\n        fret: null, // fobj.fret,    //null because input is not specific to a fret\n        note:note,\n        notes:list,\n        octave:null,  //octave,\n        semis:semis,\n        strg: null, // fobj.strg,\n        tab: null // fobj.tab,\n      }\n    },\n    objByTab( tab ){\n      let fobj = q.fretboard.objByTab( tab )\n      return q.notes.obj( fobj.strg, fobj.fret )\n    },\n  },\n\n  octave( semis ){\n    return Math.floor( semis / 12 )\n  },\n\n  scales:{\n    list:[\n      // tested with: https://www.omnicalculator.com/other/music-scale\n      //            https://www.scales-chords.com/scalenav.php\n      // rules:\n      //   keep accidentals of the same type -- all flat or sharp\n      { name:'Major', abr:'M', short:'Major',\n        // list:[ 'C', 'D', 'E', 'F', 'G', 'A', 'B'],\n        intervals:['P1','M2','M3','P4','P5','M6','M7']\n      },\n      { name:'Natural minor', abr:'m', short:'Nat.min', \n        // list:[ 'C', 'D', 'D#', 'F', 'G', 'A', 'A#'],\n        intervals:['P1','M2','m3','P4','P5','m6','m7']\n      },\n      { name:'Pentatonic major', abr:'P', short:'Pen.maj', \n        // list:[ 'C', 'D', 'E', 'G', 'A'],\n        intervals:['P1','M2','M3','P5','M6']\n      },\n      { name:'Pentatonic minor', abr:'p', short:'Pen.min',\n        // list:[ 'C', 'D#', 'F', 'G', 'A#'],\n        intervals:['P1','m3','P4','P5','m7']\n      },\n      { name:'Blues heptatonic', abr:'B7', short:'Blues7',\n        intervals:['P1','M2','m3','P4','d5','M6','m7']\n      },\n      { name:'Blues hexatonic', abr:'B6', short:'Blues6',\n        // 1, ♭3, 4, ♭5, 5, ♭7\n        intervals:['P1','m3','P4','d5','P5','m7']\n      },\n      { name:'Chromatic', abr:'Ch', short:'Chrom',\n        intervals:['P1','m2','M2','m3','M3','P4','d5','P5','m6','M6','m7','M7']\n      },\n      { name:'Double harmonic', abr:'DH', short:'Dbl.har',\n        // minor second, major third, perfect fourth and fifth, minor sixth, major seventh -- https://en.wikipedia.org/wiki/Double_harmonic_scale\n        intervals:['P1','m2','M3','P4','P5','m6','M7']\n      },\n      { name:'Gypsy minor', abr:'Gm', short:'Gypsy.min',\n        // step pattern is W, H, +, H, H, +, H -- https://en.wikipedia.org/wiki/Hungarian_minor_scale\n        intervals:['P1','M2','m3','d5','P5','m6','M7']\n      },\n      { name:'Hungarian major', abr:'HM', short:'Hung.maj`',\n        // semitones: 3, 1, 2, 1, 2, 1, 2 -- https://en.wikipedia.org/wiki/Hungarian_major_scale\n        intervals:['P1','m3','M3','d5','P5','M6','m7']\n      },\n      { name:'Phrygian dominant', abr:'Pd', short:'Phr.dom`',\n        //1 – ♭2 – 3 – 4 – 5 – ♭6 – ♭7 – 1  https://en.wikipedia.org/wiki/Phrygian_dominant_scale\n        intervals:['P1','m2','M3','P4','P5','m6','m7']\n      }\n    ],\n    byName( scaleName ){\n      for(let scale of q.scales.list){\n        if(scale.name === scaleName || scale.short === scaleName || scale.abr === scaleName)\n          return Object.assign({}, scale)\n      }\n      return null\n    },\n    obj( root, scaleName ){  //return scale, root and scale intervals\n      let ivls = []\n\n      if(typeof root === 'string')        //else interval object\n        root = q.intervals.byName( root )\n      if(root === null) return null\n\n      let scale = q.scales.byName( scaleName )\n      if(scale === null) return null\n\n      let preferFlats = ( scaleName.indexOf('minor') >= 0 || root.note.indexOf('♭') >= 0 )\n\n      for(let ivlAbr of scale.intervals){   //generate intervals for scale built on root\n        let ivl = q.intervals.byName( ivlAbr )\n        let note = q.notes.calc( root, ivl, preferFlats )\n        ivl = Object.assign( {}, ivl, {\n          abr: ivlAbr,    //abbreviation may differ from one assigned to scale\n          note:note,\n        })\n        ivls.push( ivl )\n      }\n\n      let obj = Object.assign( {}, scale, {\n        type:'scale',\n        fullName: root.note +' '+scale.name,\n        shortName: root.note +' '+scale.short,\n        abbrevName: root.note +scale.abr,\n        root: Object.assign({}, root),\n        ivls: ivls \n      })\n      return obj\n    }\n  },\n\n  semis( nm ){    //return ivl object; is this used?\n    return q.intervals.byName( nm )\n  },\n  semisCalc(note, octaveNum){   //return number of semitones\n      //assume: ocatveNum range: 0 to infinity\n      //assume: Middle C (C4) == (C,4) == (48 +0) == 48\n      //assume:            C0 == (C,0) == ( 0 +0) ==  0\n      //assume: A440     (A4) == (A,4) == (48 +9) == 57\n      let semis = (octaveNum *12)\n      semis += q.intervals.byName( note ).semis\n      return semis\n  },\n}\n\n\nq.fretboard.init()\nexport default q","var _g;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgLogo(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 64 64\",\n    x: \"0px\",\n    y: \"0px\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"#ffffff\",\n    stroke: \"#0006\",\n    strokeWidth: \"1px\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M30,23v-4a2,2,0,1,0,0,4Z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M48,24V18.038L47.967,18H32.033L32,18.038V25a7.979,7.979,0,0,0,3.556,6.648l.124.078a8.078,8.078,0,0,0,8.762-.076A7.982,7.982,0,0,0,48,25ZM35.5,22A1.5,1.5,0,1,1,37,20.5,1.5,1.5,0,0,1,35.5,22Zm3.361,6H37V26h1.861a7.445,7.445,0,0,0,3.635-.864L43.5,26.864A9.353,9.353,0,0,1,38.861,28ZM44.5,22A1.5,1.5,0,1,1,46,20.5,1.5,1.5,0,0,1,44.5,22Z\"\n  }), /*#__PURE__*/React.createElement(\"polygon\", {\n    points: \"17.279 13 18 10.838 18 4 13 4 13 10.838 13.721 13 17.279 13\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M17,35.226V15H14V35.226A5.657,5.657,0,0,1,17,35.226Z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M50,19v4a2,2,0,0,0,0-4Z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M48,11.41v-.021q0-.66-.034-1.324c0-.022,0-.043,0-.065H32.038c0,.022,0,.044,0,.066-.022.441-.033.883-.034,1.323V12H48Z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M31,16H49a3.006,3.006,0,0,0,2.829-2H28.171A3.006,3.006,0,0,0,31,16Z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M47.613,6.793A3.329,3.329,0,0,0,44.32,4a3.357,3.357,0,0,0-2.781,1.489,1.853,1.853,0,0,1-3.076,0A3.359,3.359,0,0,0,35.68,4a3.33,3.33,0,0,0-3.292,2.79c-.067.4-.1.806-.154,1.21H47.766C47.716,7.6,47.679,7.19,47.613,6.793Z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M40,35a9.941,9.941,0,0,1-4-.847V36.17a2,2,0,0,1-1.637,1.963l-1.188.224.383,1.576a6.629,6.629,0,0,0,12.884,0l.383-1.576-1.19-.224A2,2,0,0,1,44,36.17V34.147A9.946,9.946,0,0,1,40,35Z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M18,57V56H11a1,1,0,0,1-1-1V51a1,1,0,0,1,1-1h7V45.4a5.495,5.495,0,0,1-6-9.131V29.151a5.078,5.078,0,0,0-3.991,4.606,4.891,4.891,0,0,0,.041.926,12.5,12.5,0,0,1-2.032,9.29A9.98,9.98,0,0,0,4,50.3,10.262,10.262,0,0,0,14.35,60h2.3a10.328,10.328,0,0,0,1.8-.161A4.013,4.013,0,0,1,18,58Z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M22.7,58H20a1.958,1.958,0,0,0,.814,1.608A2.01,2.01,0,0,0,22,60h4a1.006,1.006,0,0,1-.555-.168Z\"\n  }), /*#__PURE__*/React.createElement(\"polygon\", {\n    points: \"28 60 28.017 59.998 26 60 28 60\"\n  }), /*#__PURE__*/React.createElement(\"polygon\", {\n    points: \"53.303 51 60 51 60 49 56.303 49 53.303 51\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M59.941,43.492c-.005-.031-.013-.062-.018-.093a3.991,3.991,0,0,0-.142-.523c-.025-.069-.05-.137-.078-.2a3.814,3.814,0,0,0-.239-.509h0a3.982,3.982,0,0,0-.377-.54c-.014-.018-.03-.034-.045-.051a4.006,4.006,0,0,0-.914-.786c-.06-.038-.12-.075-.18-.108a3.871,3.871,0,0,0-.511-.245l-.041-.017a4.017,4.017,0,0,0-.67-.186l-7.941-1.466-.4,1.643a8.629,8.629,0,0,1-16.772,0l-.4-1.643-7.941,1.466a3.962,3.962,0,0,0-1.248.461c-.044.025-.087.051-.132.079a3.953,3.953,0,0,0-.388.277c-.063.051-.125.1-.184.156-.1.09-.191.186-.28.284-.059.065-.118.13-.173.2a4,4,0,0,0-.576,1c-.025.062-.049.125-.071.189a3.913,3.913,0,0,0-.158.583v0a4.035,4.035,0,0,0-.063.708V47h4a1.006,1.006,0,0,1,.555.168L30.3,51H49.7l5.748-3.832A1.006,1.006,0,0,1,56,47h4V44.162A4.012,4.012,0,0,0,59.941,43.492Z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M30,53a1.006,1.006,0,0,1-.555-.168L23.7,49H20v7h3a1.006,1.006,0,0,1,.555.168L26.3,58H32l20.1,2.005L58,60a2,2,0,0,0,2-2V53H30Z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M17.448,37.594a3.542,3.542,0,0,0-3.893,0,3.492,3.492,0,1,0,4.619,5.133l.012-.059a.716.716,0,0,1,.023-.1c.028-.1.077-.2.11-.293.042-.127.089-.251.14-.374.038-.092.06-.184.1-.277.079-.164.158-.311.238-.451l0-.01c.053-.093.109-.174.163-.257A3.571,3.571,0,0,0,19,40.5,3.469,3.469,0,0,0,17.448,37.594Z\"\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    x: 12,\n    y: 52,\n    width: 6,\n    height: 2\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M21.134,38.906c.094-.051.18-.119.276-.164l.447-.192a3.5,3.5,0,0,1,.549-.175,3.424,3.424,0,0,1,.462-.11,15.6,15.6,0,0,1,.081-3.578,4.84,4.84,0,0,0,.042-.926A5.079,5.079,0,0,0,19,29.151v7.113a5.445,5.445,0,0,1,1.815,2.825C20.919,39.024,21.025,38.965,21.134,38.906Z\"\n  }))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgLogo);\nexport default __webpack_public_path__ + \"static/media/logo.97fcb56e.svg\";\nexport { ForwardRef as ReactComponent };","/*\n  FretPnl.js\n  - by Chris DeFreitas, chrisd@europa.com\n  - manage activation of fretboard controls for GuitarJoe app\n\n*/\n\nimport React from 'react'\nimport './FretPnl.css';\nimport q from \"./guitar_lib.js\";\n\nclass FretPnl extends React.Component{\n\n  constructor (props) {\n    super(props)\n    this.buttonClick = this.buttonClick.bind(this)\n    this.fretBtnTextChange = this.fretBtnTextChange.bind(this)\n    this.fretClick = this.fretClick.bind(this)\n    this.fretFltrClick = this.fretFltrClick.bind(this)\n    this.strgFltrClick = this.strgFltrClick.bind(this)\n  }\n  buttonClick( event ){\n    let btn = event.target\n    if(btn.nodeName !== 'BUTTON'){ \n      btn = btn.parentNode      //span\n      if(btn.nodeName !== 'BUTTON') \n        btn = btn.parentNode    //span span\n    }\n    if(btn.nodeName !== 'BUTTON') return\n    \n    //toggle button\n    let selected = Number( btn.dataset.selected )\n    if(selected === 0)\n      btn.dataset.selected = 1\n    else\n    if(selected === 1)\n      btn.dataset.selected = 0\n \n    event.stopPropagation()\n  }\n  fretBtnTextChange( event ){   //toggle formatting of fret button captions\n    // console.log('fretBtnTextChange', event)\n    event.stopPropagation()\n    if(this.props.qry.fretBtnText === 'NoteFirst')\n   \t\tthis.props.stateChange( 'fretBtnText', 'IvlFirst' )\n    else\n   \t\tthis.props.stateChange( 'fretBtnText', 'NoteFirst' )\n  }\n  fretClick( event ){\n    let //qry = this.props.qry,\n      cell = event.target,\n      strN = Number(cell.dataset.strn), \n      fret = Number(cell.dataset.fret)\n\n    if( isNaN(strN) ){\n      console.log('FretPnl.fretClick() error, bad caller:', cell)\n      return \n    }\n    event.stopPropagation()\n    if(cell.dataset.fretfilter === \"true\")\n      return\n\n    if(strN === 7){\n      strN = 6\n    }else\n    if(strN !== 1 && cell.nodeName === 'TD'){ //calc string to use\n      let  cy = event.clientY,\n        abs = cell.getBoundingClientRect(),\n        top = abs.top,\n        mid = top +(cell.offsetHeight  /2)\n\n      if(cy < mid) strN--\n    }\n\n    if(this.props.strgFltr( strN ) === true)\n      return\n\n    // console.log('fretPnl.fretClick:', strN, fret, cell.className)\n    let root = q.notes.obj( strN, fret )\n\t\tthis.props.stateChange( 'fretRoot', root )\n  }\n  fretFltrClick( event ){ //toggle state for frets\n    let qry = this.props.qry,\n      btn = event.currentTarget,\n      fret = Number( btn.dataset.fret )\n\n    console.log( 'fretFltrClick:', fret, qry.fretFilter )\n    this.props.stateChange( 'fretFilter', fret )\n    event.stopPropagation()\n  }\n  strgFltrClick( event ){\n    let btn = event.currentTarget,\n      strN = btn.dataset.strn,\n      newstate = !this.props.strgFltr( strN )\n    this.props.stateChange( 'strgFltr'+strN, newstate )\n    event.stopPropagation()\n  }  \n\n  button( nobj, root ){\n    // sample:\n    // <button title='Note' className='fretButton'>C\n    //   <sub title='octave'>4</sub>\n    //   <sup title='Interval'>P1</sup>\n    // </button>\n    let qry = this.props.qry, ivl = nobj.ivl, capStyle = qry.fretBtnText\n\n    let btnState = '', selected = 0\n    if(root === 'ALL'){   //user selected All Notes\n      if(qry.octave !== 0 && qry.octave !== nobj.octave)\n        return null      \n      capStyle = 'NoteFirst' //force for this selection\n    }else\n    if(qry.rootType === 'fretRoot'){\n      if(nobj.notes.indexOf( root.note ) >= 0  &&  nobj.semis === root.semis){\n        btnState = qry.rootType\n      }\n    }else\n    if(qry.rootType === 'selNote'){\n      if(root.notes.indexOf( nobj.note ) >= 0){ \n        btnState = qry.rootType\n      }\n    }\n \n    //test against props.noteFilter -- allow overriding roottype because user selected\n    if(qry.noteFilter.indexOf( nobj.note ) >= 0){\n      btnState = 'noteFilter'\n    }\n    \n    //test against props.tabFilter\n    // if(selected === 0){}\n    \n    //format button caption\n    let btncaption = [], key=0\n    if(capStyle === 'IvlFirst'){\n      if(nobj.ivl){\n        btncaption.push(\n          <span key={++key} className='spanIvl' onClick={this.buttonClick} >\n            <span key={++key} onClick={this.buttonClick} >{ivl.abr.substr(0,1)}</span>\n            {ivl.abr.substr(1)}\n          </span>\n        )\n      }\n      btncaption.push(\n        <sub key={++key} className='subNote' onClick={this.fretBtnTextChange}>{nobj.note}\n            <sub key={++key} className='subOctave' >{nobj.octave}</sub>\n        </sub>\n      )\n    } else {\n    // if(capStyle === 'NoteFirst'){\n      btncaption.push(\n        <span key={++key} className='spanNote'  onClick={this.buttonClick} >{nobj.note}\n            <sub key={++key} className='subOctave' onClick={this.buttonClick} >{nobj.octave}</sub>\n        </span>\n      )\n      if(nobj.ivl){\n        btncaption.push(\n          <sub key={++key} className='subInterval' onClick={this.fretBtnTextChange} >{ivl.abr}</sub>\n        )\n      }\n    }\n \n    return(\n      <button key={nobj.semis} className='fretButton'  onClick={this.buttonClick}\n        data-strn={nobj.strg.num} data-fret={nobj.fret} \n        data-state={btnState} data-selected={selected}\n      >\n        {btncaption}\n      </button>\n    )  \n  }\n  render(){\n    let qq = this,\n      qry = this.props.qry\n    // console.log('fretPnl.render()', this.props)\n\n    function local_rootFind( nobj ){    //select fret = selected fret\n      if(qry.rootType !== 'fretRoot') return null\n\n      if(nobj.fret === qry.root.fret && nobj.strg.num === qry.root.strg.num){\n        return qq.button( nobj, qry.root  )\n      }\n      return null\n    }\n    function local_noteFind( nobj ){    //select all frets with note = selNoteVal\n      if(qry.rootType !== 'selNote') return null\n\n      let idx = nobj.notes.indexOf(qry.note)\n      if(qry.note === '' ||  idx >= 0){\n        if(qry.octave === 0 || qry.octave === nobj.octave){\n          if(qry.note !== '')\n            nobj.note = qry.note\n          return qq.button( nobj, qry.root  )\n      }  }\n      return null\n    }\n\n    function local_octaveFind(nobj){  //find notes for selected octave\n      if(qry.note !== '') return\n\n      if(qry.octave === nobj.octave){\n        nobj.ivl = qry.ivl\n        return qq.button( nobj, qry.root  )\n      }\n      return null\n    }\n    function local_scaleFind( nobj ){\n      if(qry.scale === null) return null\n\n      if(qry.rootType === 'fretRoot'){    //exclude frets\n        if(q.fretboard.fretInRange(nobj, qry.root) !== true)\n          return null\n      }\n      for(let ivl of qry.scale.ivls){\n        if( nobj.notes.indexOf(ivl.note) >= 0){\n          if(qry.octave === 0 || qry.octave === nobj.octave){\n            nobj.ivl = ivl\n            nobj.note = ivl.note\n            return qq.button( nobj, qry.root )\n          }\n        }\n      }\n      return null\n    }\n    function local_chordFind( nobj ){\n      if(qry.chord === null) return null\n      if(qry.rootType === 'fretRoot'){    //exclude frets\n        if(q.fretboard.fretInRange(nobj, qry.root) !== true)\n          return null\n      }\n      for(let ivl of qry.chord.ivls){\n        if( nobj.notes.indexOf(ivl.note) >= 0){\n          if(qry.octave === 0 || qry.octave === nobj.octave){\n            nobj.ivl = ivl\n            nobj.note = ivl.note\n            return qq.button( nobj, qry.root )\n          }\n        }\n      }\n      return null\n    }\n    function local_ivlFind( nobj ){     //select frets matching interval\n      if(qry.ivl === null) return null\n      \n      let btn = null\n      if( (qry.rootType === 'fretRoot' && nobj.tab === qry.root.tab)\n      ||  (qry.rootType === 'selRoot' && nobj.notes.indexOf(qry.note) >= 0) ){ //this is the root note object\n        btn = 'root'\n      } else\n      if(qry.rootType === 'fretRoot' && q.fretboard.fretInRange(nobj, qry.root, 4) === true){\n        if( nobj.notes.indexOf(qry.ivl.note) >= 0 )\n          btn = true\n      }else\n      if(qry.rootType === 'selNote' && nobj.notes.indexOf(qry.ivl.note) >= 0){\n        btn = true\n      }\n\n      if(btn === 'root'){\n        nobj.ivl = q.intervals.byName('P1')\n        nobj.note = qry.note\n        btn = qq.button( nobj, qry.root  )\n      }else\n      if(btn === true && (qry.octave === 0 || qry.octave === nobj.octave)){\n        nobj.ivl = qry.ivl\n        nobj.note = qry.ivl.note\n        btn =  qq.button( nobj, qry.root  )\n      }\n      return btn\n    }\n\n    //make table's tr and td\n    let trArray = [],\n      fretMax = q.fretboard.fretMax,    \n      first = this.props.fretFirst,\n      last = this.props.fretLast,\n      ss = ''\n    for (let row = 1; row <= 9; row++) {\n      let frets = []\n      let strN = row -1\n      let strgFltr = this.props.strgFltr( strN )\n\n      for (let col = 0; col <= fretMax +1; col++) {\n        let fval = `\"${col}\",`, \n          fretFltr = (qry.fretFilter.indexOf( fval ) >= 0)\n\n        let btnStrFltr = null    //create string filter button for fret0 and fretMax\n        if(col === 0 && strN >= 1 && strN <= 6){\n          btnStrFltr=(<div onClick={this.strgFltrClick} data-strn={strN}\n            className={'btnFilter btnStrgFltr btnStrgFltr'+strN}\n           ><div>&diams;</div></div>\n           )\n        }\n\n        if(row === 1){  //top border, fret filter disabled because may not be needed\n          let cls = (col === (fretMax +1) ?'borderRight tdBorder'+col :'tdBorder'+col)\n          let ss = (col === first || col === (fretMax +1) ?' ' :col)\n          if(ss === col && qry.collapsed === true){\n            if([5,7,9,12].indexOf(col) >= 0)\n              ss = <div data-fret={col} className='collapsed' >&nbsp;</div>\n            else\n              ss = ''\n          }\n          frets.push( <td key={col} \n            data-fret={col} data-fretfilter={fretFltr}\n            onMouseDown={this.fretFltrClick} className={cls}>{ss}</td> \n          )\n        }else\n        if(row === 9){  //bottom frame\n\n          if(col === (fretMax +1))    //right bottom corner frame\n            frets.push( <td key={col} className={'borderRight tdBottom col'+col}></td> )\n          else {      //bottom fret frame\n            frets.push(<td key={col} className={'tdBottom col'+col}></td>)\n           }\n\n        }else{   // generate frets with right and left borders\n\n          if(col === fretMax +1){   // right border\n            frets.push( <td key={col} data-strn={strN} data-col={col} className={'borderRight col'+col}></td> )\n          } \n          else{ //fretboard cells\n            let btn = null, stringdiv = null\n\n            if(strN >= 1 && strN <= 6)\n              stringdiv = <div className='stringdiv' onClick={this.fretClick} data-strn={strN} data-fret={col} ></div>\n\n            //process fret button\n            if( fretFltr === false    //no filter applied to fret\n             && strgFltr === false    //no filter applied to string\n             && col >= first \n             && col <= last){         //filter by fretboard range\n              let nobj = q.notes.obj( strN, col )\n\n              if(qry.rootType === 'selNote' && this.props.selNoteVal === 'All'){\n                btn = qq.button( nobj, 'ALL' )  //no root when showimg all notes\n              }\n              else {\n                btn = local_scaleFind( nobj )\n                if(btn === null) btn = local_chordFind( nobj )\n                if(btn === null) btn = local_ivlFind( nobj )\n                if(btn === null){\n                  if(qry.rootType === 'fretRoot')\n                    btn = local_rootFind( nobj )  //only select the fret clicked\n                  else\n                  if(qry.rootType === 'selNote')\n                    btn = local_noteFind( nobj )  //select all frets with note = selNoteVal\n                }\n                if(btn === null) btn = local_octaveFind( nobj )\n              }\n            }  \n\n            frets.push(<td key={col} className={'fret fret'+col} onClick={this.fretClick} \n              data-strn={strN} data-fret={col} data-fretfilter={fretFltr} >\n              {btnStrFltr}\n              {btn}\n              {stringdiv}\n              <div className='fretbar' onClick={this.fretClick} data-strn={strN} data-fret={col} ></div>\n            </td>)\n           }\n        }\n      }\n\n      if(row === 1) \n        ss = 'frame frameTop'\n      else\n      if(row === 8) \n        ss = 'borderBottom'\n      else\n      if(row === 9) \n        ss = 'frame frameBottom'\n      else{\n        ss = 'strg strg' +(row -1)\n      }\n      trArray.push( <tr key={row} className={ss} data-fltr={strgFltr}>{frets}</tr> )\n    }\n    return (\n      <div className='fretPnlContainer'>\n        <table className='fretPnl'><tbody>\n          {trArray}\n        </tbody></table>\n      </div>\n    )\n  }\n}\n\nexport default FretPnl\n","/*\n  QueryPnl.js\n  - by Chris DeFreitas, chrisd@europa.com\n  - manage query controls for GuitarJoe app\n\n*/\nimport React from 'react'\nimport q from \"./guitar_lib.js\"\n\n\nclass QueryPnl extends React.Component {\n\n  constructor(props){\n    super(props)\n\n    this.btnDupeClick = this.btnDupeClick.bind(this)\n    this.btnDelClick = this.btnDelClick.bind(this)\n\n    this.last = {}    //store last query params before reset via label.click\n    this.selLabelClick = this.selLabelClick.bind(this)\n\n    this.selChordChange = this.selChordChange.bind(this)\n    this.btnClearClick = this.btnClearClick.bind(this)\n    this.btnCollapseClick = this.btnCollapseClick.bind(this)\n    // this.selFretNoChange = this.selFretNoChange.bind(this)\n    this.selIntervalChange = this.selIntervalChange.bind(this)\n    this.selNoteChange = this.selNoteChange.bind(this)\n    this.selOctaveChange = this.selOctaveChange.bind(this)\n    this.selScaleChange = this.selScaleChange.bind(this)\n    this.infoNoteClick = this.infoNoteClick.bind(this)\n  }\n\n  //event handlers\n  btnDelClick(){\n    this.props.remove()\n  }\n  btnDupeClick(){\n    this.props.duplicate()\n  }\n  btnCollapseClick(){\n    let val = !this.props.qry.collapsed\n    this.props.stateChange( 'collapsed', val )\n  }\n  btnClearClick(){\n    // this.props.dispatch({ type:\"FretboardActions/fretFirstUpdate\", payload:'' })\n    this.props.reset()\n  }\n  infoNoteClick(event){\n    let btn = event.target   \n    if(btn.className !== 'ivl')\n      btn = btn.parentNode\n      \n    let note = btn.dataset.note     \n    // console.log('infoNoteClick', btn, note)\n    if(typeof note === 'string')\n      this.props.stateChange( 'noteFilter', note, btn.className )\n  }\n  selLabelClick( event ){     //reset param to off value\n    let qry = this.props.qry,\n      lbl = event.target,\n      val = lbl.dataset.selected\n    // console.log('last', this.last)\n    if(val === 'true'){\n      if(lbl.dataset.type === 'note'){\n        if(qry.rootType === '') return\n        \n        this.last['rootType'] = qry.rootType\n        this.last['root'] = qry.root\n        if(this.last['rootType'] === 'selNote')\n          this.props.stateChange( 'selNoteVal', '' )\n        if(this.last['rootType'] === 'fretRoot')\n          this.props.stateChange( 'fretRoot', null )\n      }else\n      if(lbl.dataset.type === 'chord'){\n        if(qry.chord === null) return\n        this.last['chordName'] = qry.chord.name\n        this.props.stateChange( 'chordName', '' )\n      }else\n      if(lbl.dataset.type === 'scale'){\n        if(qry.scale === null) return\n        this.last['scaleName'] = qry.scale.name\n        this.props.stateChange( 'scaleName', '' )\n      }else\n      if(lbl.dataset.type === 'octave'){\n        this.last['octave'] = qry.octave\n        this.props.stateChange( 'octave', 0 )\n      }else\n      if(lbl.dataset.type === 'ivlName'){\n        this.last['ivlName'] = this.props.ivlName\n        this.props.stateChange( 'ivlName', '' )\n      }\n    }\n    else{   //allow toggling param on and off\n      if(lbl.dataset.type === 'note'){\n        if( !this.last.rootType ) return\n        if(this.last.rootType === 'selNote'){\n          if(this.last['root'] !== null)\n            this.props.stateChange( 'selNoteVal', this.last['root'].note )\n        } else\n        if(this.last.rootType === 'fretRoot'){\n          if(this.last['root'] !== null)\n            this.props.stateChange( 'fretRoot', this.last['root'] )\n        }\n      }else\n      if(lbl.dataset.type === 'chord'){\n        if(this.last['chordName'] && this.last['chordName'] !== '')\n          this.props.stateChange( 'chordName', this.last['chordName'] )\n      }else\n      if(lbl.dataset.type === 'scale'){\n        if(this.last['scaleName'] && this.last['scaleName'] !== '')\n          this.props.stateChange( 'scaleName', this.last['scaleName'] )\n      }else\n      if(lbl.dataset.type === 'octave'){\n        if(this.last['octave'] && this.last['octave'] !== '')\n          this.props.stateChange( 'octave', this.last['octave'] )\n      }else\n      if(lbl.dataset.type === 'ivlName'){\n        if(this.last['ivlName'] && this.last['ivlName'] !== '')\n          this.props.stateChange( 'ivlName', this.last['ivlName'] )\n      }\n    }\n  }\n  // selFretNoChange( event ){\n  //   let sel = event.target,\n  //    fret = sel.options[sel.selectedIndex].value\n  //  this.props.stateChange( 'fret', fret )\n  //  //   this.props.dispatch({ type:\"FretboardActions/fretFirstUpdate\", payload:fret })\n  // }\n  selNoteChange( event ){\n    let sel = event.target,\n      val = sel.options[sel.selectedIndex].text\n    this.props.stateChange( 'selNoteVal', val )\n    //   this.props.dispatch({ type:\"FretboardActions/semisUpdate\", val })\n  }\n  selOctaveChange( event ){\n    let sel = event.target,\n      val = sel.options[sel.selectedIndex].text\n    if(val === '')\n      this.props.stateChange( 'octave', 0 )\n    else\n      this.props.stateChange( 'octave', Number(val) )\n  }\n  selIntervalChange( event ){\n    let sel = event.target,\n      opt = sel.options[sel.selectedIndex],\n      abr = opt.dataset.abr\n    this.props.stateChange( 'ivlName', abr )\n  }\n  selChordChange( event ){\n    let sel = event.target,\n      val = sel.options[sel.selectedIndex].text\n    this.props.stateChange( 'chordName', val )\n  }\n  selScaleChange( event ){\n    let sel = event.target,\n      val = sel.options[sel.selectedIndex].text\n    this.props.stateChange( 'scaleName', val )\n  }\n\n  // draw controls\n  drawSelNote(){\n    let qry = this.props.qry,\n      list = [<option key='' ></option>,<option key='999' >All</option>]\n    for(let ii=0; ii < q.notes.list.length; ii++){\n      let note = q.notes.list[ii]\n      list.push(<option key={ii} >{note}</option>)\n    }\n\n    let note = (qry.note === null ?'' :qry.note)\n    return (\n      <div className='dataPnl pnlNote'>\n        <label data-selected={note !== ''} data-type='note' onClick={this.selLabelClick} >Note</label>\n        <select value={note} className='selNote' onChange={this.selNoteChange} >{list}</select>\n      </div>\n    )\n  }\n  drawSelOctave(){\n    let qry = this.props.qry,\n      oct = qry.octave,\n      omin = 0, omax = 0,\n      list = [<option key={999} ></option>]\n\n    omin = q.notes.obj(6, 0).octave\n    omax = q.notes.obj(1, q.fretboard.fretMax).octave\n\n    for(let ii = omax; ii >= omin; ii--){\n      list.push(<option key={ii} >{ii}</option>)\n    }\n    return (\n      <div className='dataPnl pnlOctave'>\n        <label data-selected={oct !== 0} data-type='octave' onClick={this.selLabelClick} >Octave</label>\n        <select value={oct} className='selOctave' onChange={this.selOctaveChange}>\n           {list}\n        </select>      \n      </div>\n    )\n  }\n  drawSelScale(){\n    let selected = this.props.scaleName,\n      ii=0, list = [<option key='aaa'></option>]\n    for(let scale of q.scales.list){\n      list.push(<option key={++ii} >{scale.name}</option>)\n    }\n    return (\n      <div className='dataPnl pnlScale'>\n        <label data-selected={selected !== ''} data-type='scale' onClick={this.selLabelClick} >Scale</label>\n        <select value={selected} className='selScale' onChange={this.selScaleChange} >\n          {list}\n        </select>      \n      </div>\n    )\n  }\n  drawSelChord(){\n    let ii = 0,\n      selected = this.props.chordName, \n      list = [<option key='aaa'></option>]\n    for(let chd of q.chords.list){\n      list.push(<option key={++ii} >{chd.name}</option>)\n    }\n    return (\n      <div className='dataPnl pnlChord'>\n        <label data-selected={selected !== ''} data-type='chord' onClick={this.selLabelClick} >Chord</label>\n        <select value={selected} className='selChord' onChange={this.selChordChange} >\n          {list}\n        </select>      \n      </div>\n    )\n  }\n  drawSelInterval(){\n    let qry = this.props.qry,\n      list = [<option key='aaa' ></option>],\n      ii = 0, selected = '' //, last = ''\n    for(let ivl of q.intervals.list){\n      if(ivl.semis === 0) continue\n      if(ivl.semis === 12) continue\n      // if(ivl.abr === last) continue  should be unique\n      let html = `${ivl.name} (${ivl.abr}, ${ivl.semis})`\n      list.push(<option key={++ii} data-abr={ivl.abr} >{html}</option>)\n      if(qry.ivl !== null && selected === '' && qry.ivl.abr === ivl.abr)\n        selected = html\n      // last = ivl.abr\n    }\n    return (\n      <div className='dataPnl pnlInterval'>\n        <label data-selected={selected !== ''} data-type='ivlName' onClick={this.selLabelClick} >Interval</label>\n        <select value={selected} className='selInterval' title='Intervals sorted by semis-tones'\n          onChange={this.selIntervalChange} \n        >\n          {list}\n        </select>      \n      </div>\n    )\n  }  \n  drawInfo( collapsed ){\n    let qry = this.props.qry, arrow = null, selected = 0\n    // console.log('queryPnl.drawInfo', qry)\n    if(collapsed === 'qryCollapsed')\n      arrow = (<div className='qryBtn qryBtnExpand' onClick={this.btnCollapseClick} title=\"Show query panel\" > <div>&#10148;</div> </div>)\n\n    let html = []\n    if(qry.rootType === 'selNote' && this.props.selNoteVal === 'All'){    //special case\n      html.push( <span key='allNotes' className='propName'>{'All Notes'}</span> )\n      if(qry.octave !== 0){\n        html.push( <span key={'qryOct'+qry.octave} className='ivl'>{': Octave '}{qry.octave} </span> )\n      }\n    }\n    else{\n      if(qry.scale !== null){\n        html.push( <span key='qryScale' className='propName'>{qry.root.note +' ' +qry.scale.name +':'}</span> )\n        qry.scale.ivls.forEach( ivl => {\n          if(qry.noteFilter.indexOf( ivl.note ) >= 0) selected = 'noteFilter'\n          else selected = 0\n          \n          html.push( <span key={'qryScale'+ivl.abr} className='ivl'\n            onClick={this.infoNoteClick} data-note={ivl.note} data-selected={selected}\n          >&nbsp;{ivl.note} <sub>{ivl.abr}</sub> </span> )\n        })\n      }\n      if(qry.chord !== null){\n        html.push( <span key='qryChord' className='propName'>{qry.root.note +' ' +qry.chord.name +':'}</span> )\n        qry.chord.ivls.forEach( ivl => {\n          if(qry.noteFilter.indexOf( ivl.note ) >= 0) selected = 'noteFilter'\n          else selected = 0\n\n          html.push( <span key={'qryChord'+ivl.abr} className='ivl'\n            onClick={this.infoNoteClick} data-note={ivl.note} data-selected={selected}\n           >&nbsp;{ivl.note} <sub>{ivl.abr}</sub> </span> )\n        })\n      }\n      if(qry.ivl !== null){\n        if(qry.noteFilter.indexOf( qry.ivl.note ) >= 0) selected = 'noteFilter'\n        else selected = 0\n        \n        html.push( <span key='qryIvl' className='propName'>{qry.note +' +' +qry.ivl.name +':'}</span> )\n        html.push( <span key={'qryIvl'+qry.ivl.abr} className='ivl'\n          onClick={this.infoNoteClick} data-note={qry.ivl.note} data-selected={selected}\n        >&nbsp;{qry.ivl.note} <sub>{qry.ivl.abr}</sub> </span> )\n      }\n    }\n    return (\n      <div className='infoPnl'>\n        {arrow}\n         <div className='infoDiv'>{html}</div>\n      </div>\n    )      \n  }\n\n  render(){\n    // console.log('queryPnl.render()', this.props)\n\n    let collapsed = (this.props.qry.collapsed ?'qryCollapsed' :'qryExpanded')\n \n    let selNote = this.drawSelNote()\n    let selOct = this.drawSelOctave()\n    let selInt = this.drawSelInterval()\n    let selScale = this.drawSelScale()\n    let selChord = this.drawSelChord()\n    let infoPnl = this.drawInfo( collapsed )\n    return (\n      <div className={'queryPnl '+collapsed} >\n        <div className='qryBtn qryBtnCollapse' onClick={this.btnCollapseClick}\n            title=\"Hide query panel\" >\n          <div>&#10148;</div>\n        </div>\n        <div className='queryControls '>\n          {selNote}\n          {selOct}\n          {selScale}\n          {selChord}\n          {selInt}\n        </div>\n        <div className='qryBtn qryBtnClear' onClick={this.btnClearClick} title='Reset query controls'>&#8635;</div>\n        <div className='qryBtn qryBtnDupe' onClick={this.btnDupeClick} title='Duplicate fretboard' >&#10010;</div>\n        { this.props.fbid === 0 ?null\n          :<div className='qryBtn qryBtnDel' onClick={this.btnDelClick} title='Remove this fretboard' >&#10000;</div>\n        }\n        {infoPnl}\n      </div>\n    )\n  }\n}\n\nexport default QueryPnl\n","/*\nFretboard.js\n  - by Chris DeFreitas, chrisd@europa.com\n  - top level container for fretboard controls of GuitrJoe app\n  - store shared state for FretPnl.js and QueryPnl.js\n\n*/\n\nimport React from 'react';\nimport './Fretboard.css';\n\nimport FretPnl from \"./FretPnl.js\";\nimport QueryPnl from \"./QueryPnl.js\";\nimport q from \"./guitar_lib.js\";\n\nclass Fretboard extends React.Component{\n\n  constructor (props) {\n    console.log('Fretboard.constructor()', props)\n    super(props)\n    //keep state private to control children\n    this.state = {\n\t\t\tfbid:(props.fbid ?props.fbid :0),\n\t\t\t\n      collapsed:(props.collapsed ?props.collapsed :false),\n      fretFirst:(props.fretFirst ?props.fretFirst :0),\n      fretLast:(props.fretLast ?props.fretLast :q.fretboard.fretMax),\n      fretBtnText:(props.fretBtnText ?props.fretBtnText :'NoteFirst'),    //one of: NoteFirst, IvlFirst\n      fretFilter:(props.fretFilter ?props.fretFilter :''),      //csv of fretN, if found then disable fret\n      strgFltrList:(props.strgFltrList ?props.strgFltrList :''),    //csv of strN, if found then hide notes\n      noteFilter:(props.noteFilter ?props.noteFilter :[]),    //notes on fetboard where button.data-selected=2; set be clicking infoPnl note\n\n      rootType:(props.rootType ?props.rootType :'s'),    //one of: [null, fretRoot, selNote]\n      fretRoot:(props.fretRoot ?props.fretRoot :null),          //note object, set when fret clicked\n      selNoteVal:(props.selNoteVal ?props.selNoteVal :''),   //string, contains note selected in selNote\n      octave:(props.octave ?props.octave :0), \n      scaleName:(props.scaleName ?props.scaleName :''),\n      chordName:(props.chordName ?props.chordName :''),\n      ivlName:(props.ivlName ?props.ivlName :''), \n    }\n    this.duplicate = this.duplicate.bind(this)\n    this.remove = this.remove.bind(this)\n    this.reset = this.reset.bind(this)\n    this.stateChange = this.stateChange.bind(this)\n    this.strgFltr = this.strgFltr.bind(this)\n    this.makeQuery = this.makeQuery.bind(this)\n  }  \n  reset(){\n    this.setState({ collapsed:false })\n    this.setState({ noteFilter:[] })\n    this.setState({ strgFltrList:'' })\n    this.setState({ fretFilter:'' })\n    this.setState({ scaleName:'' })\n    this.setState({ chordName:'' })\n    this.setState({ rootType:'' })\n    this.setState({ ivlName:'' })\n    this.setState({ fretRoot:null })\n    this.setState({ selNoteVal:'' })\n    this.setState({ octave:0 })\n    this.setState({ fretBtnText:'NoteFirst' })\n  }\n  strgFltr( strN ){   //return strgFltrList[n -1] (true/false) or null\n    strN = Number(strN)\n    if(strN < 1 || strN > 6) return null\n    return ( this.state.strgFltrList.indexOf( strN+',' ) >= 0 )\n  }\n  remove(){\n    this.props.remove( this )\n  }\n  duplicate(){\n    this.props.duplicate( this )\n  }\n  stateChange( key, val){\n    // if(key === 'rootType')   //only manually set below; can be prop instead of state\n    //   this.setState({ rootType:val })\n    // else\n    if(key === 'collapsed'){\n      this.setState({ collapsed:val })\n    }else\n    if(key === 'noteFilter'){\n      let list = this.state.noteFilter.slice()\n      let idx = list.indexOf( val )\n \n      if(idx < 0) list.push( val )\n      else list.splice( idx, 1 )\n      \n      this.setState({ noteFilter:list })\n    }else\n    if(key === 'fretBtnText'){\n      this.setState({ fretBtnText:val })\n    }else\n    if(key === 'fretFilter'){\n      let fval = `\"${val}\",`,\n        ii = this.state.fretFilter.indexOf( fval )\n      if(ii < 0)   //add to list\n        val = this.state.fretFilter +fval    \n      else         //remove from list\n        val = this.state.fretFilter.replace(fval, '')\n      this.setState({ fretFilter:val })\n    }else\n    if(key === 'fretRoot'){\n      this.setState({ fretRoot:val })\n      if(val === null){\n         this.setState({ rootType:'' })\n         this.setState({ selNoteVal:'' })\n      }else\n        this.setState({ rootType:'fretRoot' })\n    }else\n    if(key === 'selNoteVal'){\n      this.setState({ selNoteVal:val })\n      if(val === ''){\n        this.setState({ rootType:'' })\n        this.setState({ fretRoot:null })\n      }else\n        this.setState({ rootType:'selNote' })\n    }else\n    if(key.substr(0,8) === 'strgFltr'){\n      let strN = Number(key.substr(8,1)),\n        flt = this.state.strgFltrList.slice()\n\n      // console.log('stateChange:', key, val, flt)\n      if(strN < 1 || strN > 6) throw Error (`Fretboard.stateChange() error, strN is wrong:[${key}].`)\n\n      let ii = flt.indexOf(strN+',')\n      if(val === true){ //add to list\n        if(ii < 0){\n          flt += strN+','\n          // console.log('stateChange Add:', key, val, flt)\n           this.setState({ strgFltrList:flt })\n        }\n      }\n      else{ //remove from list\n        if(ii >= 0){\n          flt = flt.replace(strN+',')\n          // console.log('stateChange Del:', key, val, flt)\n           this.setState({ strgFltrList:flt })\n        }\n      }\n    }else\n    if(key === 'fretFirst')\n      this.setState({ fretFirst:val })\n    else\n    if(key === 'fretLast')\n      this.setState({ fretLast:val })\n    else\n    if(key === 'octave')\n      this.setState({ octave:val })\n    else\n    if(key === 'scaleName'){\n      this.setState({ scaleName:val })\n    }else\n    if(key === 'chordName'){\n      this.setState({ chordName:val })\n    }else\n    if(key === 'ivlName'){\n      this.setState({ ivlName:val })\n    }else\n    if(key === 'semis')\n      this.setState({ semis:val })\n  }\n  makeQuery(){\n    let qry = {\n      rootType: this.state.rootType,\n      root: null,\n      note: (this.state.rootType === 'fretRoot' \n              ? this.state.fretRoot.notes[0] \n              : this.state.selNoteVal ), \n      octave: this.state.octave,\n      scale: null,\n      chord:null,\n      ivl: null,\n\n      collapsed: this.state.collapsed,\n      fretBtnText: this.state.fretBtnText,\n      fretFilter: this.state.fretFilter,\n      noteFilter: this.state.noteFilter\n    }\n    if(qry.rootType === 'fretRoot')\n      qry.root = this.state.fretRoot    //note object, set in FretPnl.fretClick()\n    if(qry.rootType === 'selNote' && qry.note !== '' && qry.note !== 'All'){\n      qry.root = q.notes.objByNote( qry.note )    //note object\n    }\n    if(this.state.scaleName !== '' && qry.root)\n      qry.scale = q.scales.obj( qry.note, this.state.scaleName )\n    if(this.state.chordName !== '' && qry.root)\n      qry.chord = q.chords.obj( qry.note, this.state.chordName )\n    if(this.state.ivlName !== '' && qry.root){\n      qry.ivl = q.intervals.byName( this.state.ivlName )    //this.props.ivlName == abr\n      qry.ivl.note = q.notes.calc( qry.note, qry.ivl )\n      // qry.ivl.notes = q.notes.bySemis( qry.root.semis +qry.ivl.semis )\n    }\n    return qry\n  }\n  render(){\n    let qry = this.makeQuery()\n    console.log('Fretboard.render()', this.props, this.state, qry)\n    return(\n      <div className='fretboard' id={'Fretboard'+this.props.fbid}>\n        <FretPnl\n          collapsed={this.state.collapsed}\n          fretFirst={this.state.fretFirst}\n          fretLast={this.state.fretLast}\n\n          ivlName={this.state.ivlName}\n\n          selNoteVal={this.state.selNoteVal} \n\n          qry={qry}\n          stateChange={this.stateChange}\n          strgFltr={this.strgFltr}\n        />\n        <QueryPnl \n          fbid={this.props.fbid}\n          collapsed={this.state.collapsed}\n          fretFirst={this.state.fretFirst}\n          fretLast={this.state.fretLast}\n\n          selNoteVal={this.state.selNoteVal} \n          chordName={this.state.chordName}\n          scaleName={this.state.scaleName}\n          ivlName={this.state.ivlName}\n\n          duplicate={this.duplicate}\n          qry={qry}\n          remove={this.remove}\n          reset={this.reset} \n          stateChange={this.stateChange}\n          strgFltr={this.strgFltr} \n         />\n      </div>\n    )\n  }\n}\n\nexport default Fretboard;\n","/*\n  About Dialog\n  - for GuitarJoe by Chris DeFreitas\n\n  requires:\n    Dialog.css\n*/\nimport React from 'react';\nimport Popup from 'reactjs-popup';\nimport './Dialog.css';\n\nconst About = () => (  \n  <Popup\n    trigger={<button className=\"btnInfo\">About</button>}\n    modal\n    nested\n  >\n    {close => (\n      <div className=\"modal\">\n        <div className=\"header\"> About GuitarJoe </div>\n        <div className=\"content\">\nImportant: <br />\n&nbsp;- please explore by clicking/tapping stuff<br />\n&nbsp;- clicking a fret or selecting a note provide different results<br />\n&nbsp;- zoom using your browser's zoom controls\n<br /><br />\nGuitarJoe is a free web application, no ads, no logins, no tracking.  \nThe goal was to create a tool that would make guitar theory accessible while practicing.\nI am not anything close to a musician, so\nI was going crazy taking notes and diagraming chords, scales and intervals: I needed a tool\nto facilitate my understanding so I could focus on the guitar instead of managing scraps of information.\nThis application has successfully reduced my hair loss--I hope it has the same effect on you!\n<br /><br />\nThe basic functionality is stable. \nAt this point it is a proof of concept as I wrangle technologies and concepts.  \nThere is a lot more planned, the ToDo list is in the <a href='https://github.com/ChrisDeFreitas/guitarjoe/blob/main/README.md#todo' target='_new'>project documentation</a>.\nMy aim is to keep the app freely available to support those learning guitar; a warm thanks for those who have supported my various journeys.\n<br /><br />\n&nbsp;- Tested to work in Chrome, Firefox, and Safari(iPad)<br />\n&nbsp;- Review documentation, updates and references in the <a href='https://github.com/ChrisDeFreitas/guitarjoe/' target='_new'>GitHub Repository</a> <br />\n&nbsp;- Send comments and bugs to <a href='mailto:ChrisDeFreitas777@gmail.com?subject=GuitarJoe:'>ChrisDeFreitas777@gmail.com</a>\n<br /><br />\nThanks to<br />\n&nbsp;- Application hosted on <a href='https://github.com/ChrisDeFreitas/guitarjoe' target='_new'>Github</a>  <br />\n&nbsp;- Background image from <a href='https://www.flickr.com/photos/webtreatsetc/with/4514047664/' target='_new'>WebTreats ETC</a> <br />\n&nbsp;- Built with the <a href='https://reactjs.org/' target='_new'>React</a> Javascript library <br />\n&nbsp;- Chords verified using <a href='https://www.omnicalculator.com/other/chord' target='_new'>Omni Chord Calculator</a><br />\n&nbsp;- Fuggles font by Robert Leuschke on <a href='https://fonts.google.com/?query=Robert+Leuschke/' target='_new'>Google Fonts</a> <br />\n&nbsp;- Guitar icon by monkik from the <a href='https://thenounproject.com/term/guitar/2588464/' target='_new'>Noun Project</a> <br />\n&nbsp;- Intervals verified using <a href='https://www.omnicalculator.com/other/music-interval' target='_new'>Omni Music Interval Calculator</a><br />\n&nbsp;- Music theory from <a href='https://www.wikipedia.org/' target='_new'>Wikipedia</a><br />\n&nbsp;- Popup control from <a href='https://react-popup.elazizi.com/' target='_new'>reactjs-popup</a> <br />\n&nbsp;- Scales verified using <a href='https://www.scales-chords.com/scalenav.php' target='_new'>ScaleChords Musical Scale Navigator</a><br />\n<br />\nCreated by Chris DeFreitas, BC Canada<br />\n        </div>\n        <div className=\"actions\">\n          <button\n            className=\"button\"\n            onClick={() => {\n              console.log('modal closed ');\n              close();\n            }}\n          >\n            Close\n          </button>\n        </div>\n      </div>\n    )}\n  </Popup>\n)\n\nexport default About","/*\n  App.js\n  - by Chris DeFreitas, chrisd@europa.com\n  - entrypoint for GuitrJoe app\n\n*/\nimport React, { useState } from 'react';\n\nimport './App.css';\n// import './Bgnd.css';\n// import Bgnd from \"./Bgnd.js\";\nimport Fretboard from \"./Fretboard.js\"\nimport About from \"./AboutDlg.js\"\nimport { ReactComponent as Logo } from './resources/logo.svg'\n\n\nfunction App(){\n\n  const [fbs, setFbs] = useState( [{id:0, state:true}] )  //one cell for each fretboard instance\n  const [newid, setNewId] = useState( null )\t\t// assigned in duplicate()\n  \n  function indexOfFbid( fbid ){\n    for(let ii=0; ii < fbs.length; ii++){\n      if(fbs[ii].id === fbid)\n        return ii\n    }\n    return false\n  }\n  function duplicate( fretboard ){\n    let fbid = fretboard.props.fbid,\n      list = fbs.slice(),\n      nid = list.length,\n      obj = {id:nid, state:fretboard.state},\n      idx = indexOfFbid( fbid )\n      \n    if(idx === false)\n      throw new Error(`App.duplicate() error, fbid=[${fbid}] not found.`)\n      \n    list.splice( (idx +1), 0, obj)\t\t\n    setFbs( list )\n    setNewId( nid )\n    // console.log('App.duplicate', list)\n  }\n  function remove( fretboard ){\n    let fbid = fretboard.props.fbid,\n      list = fbs.slice(),\n      idx = indexOfFbid( fbid )\n     \n    if(idx === false)\n      throw new Error(`App.remove() error, fbid=[${fbid}] not found.`)\n\n    list[ idx ].state = false\n    setNewId( null )\n    setFbs( list )\n    // console.log('App.remove()', fbid, list)\n  }\n\n  let list = [], fbCount=fbs.length\n  for(let ii=0; ii < fbCount; ii++){\n    let el = null,\n      id = fbs[ii].id,       //use in .key to help react\n      state = fbs[ii].state  //one of: true, state object, false(a deleted fretboard)\n    if(id === newid){   //create new fretboard\n      el = <Fretboard key={id} fbid={id} duplicate={duplicate} remove={remove} \n\t\t\t\tcollapsed={state.collapsed}\n\t\t\t\tfretFirst={state.fretFirst}\n\t\t\t\tfretLast={state.fretLast}\n\t\t\t\tfretBtnText={state.fretBtnText}\n\t\t\t\tfretFilter={state.fretFilter}\n\t\t\t\tstrgFltrList={state.strgFltrList}\n        noteFilter={state.noteFilter}\n\t\t\t\trootType={state.rootType}\n\t\t\t\tfretRoot={state.fretRoot}\n\t\t\t\tselNoteVal={state.selNoteVal} \n\t\t\t\toctave={state.octave} \n\t\t\t\tscaleName={state.scaleName}\n\t\t\t\tchordName={state.chordName}\n\t\t\t\tivlName={state.ivlName}\n      />\n    }else{\n      if(state !== false) //existing fretboard; magic of react does not overwrite old data\n        el = <Fretboard key={id} fbid={id} duplicate={duplicate} remove={remove} />\n    }\n    if(el != null)\n      list.push( el )\n  }\n\n  return (\n    <div className=\"App\">\n\t\t\t<header className=\"App-header header\">\n        <Logo className=\"Logo\" alt=\"Logo\" />\n        GuitarJoe v0.1.2 <About />\n      </header>\n\t\t\t{list}\n    </div>\n  )\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './index.css';\nimport App from './App';\n// import reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n\t  <App />\n\t</React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals( console.log );\n"],"sourceRoot":""}