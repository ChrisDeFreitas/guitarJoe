(this.webpackJsonpguitarjoe=this.webpackJsonpguitarjoe||[]).push([[0],{17:function(e,t,a){},18:function(e,t,a){},19:function(e,t,a){},20:function(e,t,a){},22:function(e,t,a){},23:function(e,t,a){"use strict";a.r(t);var r=a(1),s=a.n(r),n=a(8),l=a.n(n),o=(a(17),a(11)),i=(a(18),a(3)),c=a(4),h=a(5),f=a(2),d=a(7),b=a(6),u=(a(19),a(20),{chords:{list:[{name:"Major triad",abr:"maj",intervals:["P1","M3","P5"]},{name:"Minor triad",abr:"min",intervals:["P1","m3","P5"]},{name:"Augmented triad",abr:"aug",intervals:["P1","M3","A5"]},{name:"Diminished triad",abr:"dim",intervals:["P1","m3","d5"]},{name:"Dominant seventh",abr:"7",intervals:["P1","M3","P5","m7"]},{name:"Major seventh",abr:"maj7",intervals:["P1","M3","P5","M7"]},{name:"Minor seventh",abr:"min7",intervals:["P1","m3","P5","m7"]},{name:"Major sixth",abr:"maj6",intervals:["P1","M3","P5","M6"]},{name:"Minor sixth",abr:"min6",intervals:["P1","m3","P5","M6"]},{name:"Suspended second",abr:"sus2",intervals:["P1","M2","P5"]},{name:"Suspended fourth",abr:"sus4",intervals:["P1","P4","P5"]}],byName:function(e){var t,a=Object(i.a)(u.chords.list);try{for(a.s();!(t=a.n()).done;){var r=t.value;if(r.abr===e||r.name===e)return Object.assign({},r)}}catch(s){a.e(s)}finally{a.f()}return null},obj:function(e,t){var a=[],r=u.chords.byName(t);if(null===r)return null;if("string"===typeof e&&(e=u.intervals.byName(e)),null===e)return null;var s,n=r.name.indexOf("Minor")>=0||r.name.indexOf("Diminished")>=0||e.note.indexOf("\u266d")>=0,l=Object(i.a)(r.intervals);try{for(l.s();!(s=l.n()).done;){var o=s.value,c=u.intervals.byName(o),h=u.notes.calc(e,c,n);a.push(Object.assign({},c,{note:h}))}}catch(d){l.e(d)}finally{l.f()}var f=Object.assign({},r,{type:"chord",fullName:e.note+" "+r.name,fullAbbrev:e.note+r.abr,root:Object.assign({},e),ivls:a});return f}},fretboard:{strings:[{num:1,note:"E",octave:4,semis:0,tabLetter:"e"},{num:2,note:"B",octave:3,semis:0,tabLetter:"B"},{num:3,note:"G",octave:3,semis:0,tabLetter:"G"},{num:4,note:"D",octave:3,semis:0,tabLetter:"D"},{num:5,note:"A",octave:2,semis:0,tabLetter:"A"},{num:6,note:"E",octave:2,semis:0,tabLetter:"E"}],fretMin:1,fretMax:14,fretMinSet:function(e){u.fretboard.fretMin=e,u.fretboard.init()},fretMaxSet:function(e){u.fretboard.fretMax=e,u.fretboard.init()},init:function(){for(var e=0;e<=u.fretboard.strings.length-1;e++){var t=u.fretboard.strings[e];u.fretboard.strings[e].semis=u.semis.calc(t.note,t.octave)}},strg:function(e){return Object.assign({},u.fretboard.strings[e-1])},fretInRange:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=a<=5?5:a;return t.fret<=1&&e.fret<=r||t.fret>1&&e.fret>=t.fret-a&&e.fret<=t.fret+a||null},obj:function(e,t){"number"===typeof e&&(e=u.fretboard.strg(e));var a=e.semis+Number(t);return{fret:t,strgnum:e.num,tab:e.tabLetter+t,semis:a,notes:u.notes.bySemis(a)}},objBySemis:function(e){var t,a=null,r=u.fretboard.fretMax,s=Object(i.a)(u.fretboard.strings);try{for(s.s();!(t=s.n()).done;){var n=t.value;if(e>=n.semis&&e<=n.semis+r)return a=e-n.semis,u.fretboard.obj(n,a)}}catch(l){s.e(l)}finally{s.f()}return null},objByTab:function(e){var t,a=e.substr(0,1),r=Number(e.substr(1)),s=Object(i.a)(u.fretboard.strings);try{for(s.s();!(t=s.n()).done;){var n=t.value;if(n.tabLetter===a)return u.fretboard.obj(n,r)}}catch(l){s.e(l)}finally{s.f()}return null},tabByFret:function(e,t){e=Number(e);var a,r=Object(i.a)(u.fretboard.strings);try{for(r.s();!(a=r.n()).done;){var s=a.value;if(s.num===e)return s.tabLetter+t}}catch(n){r.e(n)}finally{r.f()}return null}},intervals:{list:[{name:"Perfect unison",abr:"P1",semis:0,note:"C"},{name:"Minor second",abr:"m2",semis:1,note:"D\u266d"},{name:"Augmented unison",abr:"A1",semis:1,note:"C#"},{name:"Major second",abr:"M2",semis:2,note:"D"},{name:"Minor third",abr:"m3",semis:3,note:"E\u266d"},{name:"Augmented second",abr:"A2",semis:3,note:"D#"},{name:"Major third",abr:"M3",semis:4,note:"E"},{name:"Diminished fourth",abr:"d4",semis:4,note:"F\u266d"},{name:"Perfect fourth",abr:"P4",semis:5,note:"F"},{name:"Augmented third",abr:"A3",semis:5,note:"E#"},{name:"Diminished fifth",abr:"d5",semis:6,note:"G\u266d"},{name:"Augmented fourth",abr:"A4",semis:6,note:"F#"},{name:"Perfect fifth",abr:"P5",semis:7,note:"G"},{name:"Minor sixth",abr:"m6",semis:8,note:"A\u266d"},{name:"Augmented fifth",abr:"A5",semis:8,note:"G#"},{name:"Major sixth",abr:"M6",semis:9,note:"A"},{name:"Minor seventh",abr:"m7",semis:10,note:"B\u266d"},{name:"Augmented sixth",abr:"A6",semis:10,note:"A#"},{name:"Major seventh",abr:"M7",semis:11,note:"B"},{name:"Diminished octave",abr:"d8",semis:11,note:"C\u266d"},{name:"Perfect octave",abr:"P8",semis:12,note:"C"},{name:"Augmented seventh",abr:"A7",semis:12,note:"B#"}],byNote:function(e){e=e.toUpperCase();var t,a=Object(i.a)(u.intervals.list);try{for(a.s();!(t=a.n()).done;){var r=t.value;if(r.note===e)return Object.assign({},r)}}catch(s){a.e(s)}finally{a.f()}return null},byName:function(e){var t,a=e.toUpperCase(),r=Object(i.a)(u.intervals.list);try{for(r.s();!(t=r.n()).done;){var s=t.value;if(s.abr===e||s.note===a||s.name===e)return Object.assign({},s)}}catch(n){r.e(n)}finally{r.f()}return null},bySemis:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e%=12;var a,r=[],s=Object(i.a)(u.intervals.list);try{for(s.s();!(a=s.n()).done;){var n=a.value;if(n.semis>e)break;if(n.semis===e){var l=Object.assign({},n);if(!0===t)return l;r.push(l)}}}catch(o){s.e(o)}finally{s.f()}return r}},notes:{list:["C","C#","D\u266d","D","D#","E\u266d","E","F","F#","G\u266d","G","G#","A\u266d","A","A#","B\u266d","B"],alpha:["C","D","E","F","G","A","B"],bySemis:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=[];e=Number(e)%12;var r,s=Object(i.a)(u.intervals.list);try{for(s.s();!(r=s.n()).done;){var n=r.value;if(n.semis===e){if(!0===t)return n.note;a.push(n.note)}if(n.semis>e)break}}catch(l){s.e(l)}finally{s.f()}return a},calc:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];"object"===typeof e&&(e=e.note);var r=e.substr(0,1),s=e.substr(1,2),n="object"===typeof t?t:u.intervals.byName(t),l=n.abr.substr(0,1),o=n.semis,i=0,c=r,h=s;function f(e){return i=u.notes.alpha.indexOf(e),i++,u.notes.alpha[i%7]}for(var d=0;d<o;d++)"B"===c&&""===h?c="C":"E"===c&&""===h?c="F":"\u266d"===h?h="":"#"===h?(h="",c=f(c)):"m"===l||"d"===l||!0===a?(h="\u266d",c=f(c)):h="#";return c+h},obj:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;"number"===typeof e&&(e=u.fretboard.strg(e));var r=e.semis+t,s=u.octave(r),n=u.notes.bySemis(r);return{fret:t,note:null===a?n[0]:a,notes:n,octave:s,semis:r,strgnum:e.num,tab:e.tabLetter+t}},objByNote:function(e){var t=u.intervals.byNote(e).semis;return{fret:null,note:e,notes:u.notes.bySemis(t),octave:null,semis:t,strgnum:null,tab:null}},objByTab:function(e){var t=u.fretboard.objByTab(e);return u.notes.obj(t.strg,t.fret)},match:function(e,t){if(t.length>e.length)return!1;for(var a,r,s=t.slice(),n=1;n<=s.length;n++){a=!1,r=0;for(var l=0;l<e.length;l++)if(s[r].notes.indexOf(e[l].note)>=0&&++r===s.length){a=!0;break}if(!0===a)break;s.push(s.splice(0,1)[0])}return a}},octave:function(e){return Math.floor(e/12)},scales:{list:[{name:"Major",abr:"M",short:"Major",intervals:["P1","M2","M3","P4","P5","M6","M7"]},{name:"Natural minor",abr:"m",short:"Minor",intervals:["P1","M2","m3","P4","P5","m6","m7"]},{name:"Pentatonic major",abr:"P",short:"Pen.Maj",intervals:["P1","M2","M3","P5","M6"]},{name:"Pentatonic minor",abr:"p",short:"Pen.min",intervals:["P1","m3","P4","P5","m7"]},{name:"Blues heptatonic",abr:"B7",short:"Blues7",intervals:["P1","M2","m3","P4","d5","M6","m7"]},{name:"Blues hexatonic",abr:"B6",short:"Blues6",intervals:["P1","m3","P4","d5","P5","m7"]},{name:"Akebono I",abr:"Ak1",short:"Akebono1",intervals:["P1","M2","m3","P5","M6"]},{name:"Akebono II",abr:"Ak2",short:"Akebono2",intervals:["P1","m2","M3","P5","m6"]},{name:"Double harmonic",abr:"DH",short:"Dbl.Hrm",intervals:["P1","m2","M3","P4","P5","m6","M7"]},{name:"Gypsy minor",abr:"Gm",short:"Gypsy",intervals:["P1","M2","m3","d5","P5","m6","M7"]},{name:"Hungarian major",abr:"HM",short:"Hungarian",intervals:["P1","m3","M3","d5","P5","M6","m7"]},{name:"Phrygian dominant",abr:"Pd",short:"Phrygian",intervals:["P1","m2","M3","P4","P5","m6","m7"]},{name:"Pygmy",abr:"Py",short:"Pygmy",intervals:["P1","M2","m3","P5","m7"]}],byName:function(e){var t,a=Object(i.a)(u.scales.list);try{for(a.s();!(t=a.n()).done;){var r=t.value;if(r.name===e||r.short===e||r.abr===e)return Object.assign({},r)}}catch(s){a.e(s)}finally{a.f()}return null},obj:function(e,t){var a=[];if("string"===typeof e&&(e=u.intervals.byName(e)),null===e)return null;var r=u.scales.byName(t);if(null===r)return null;var s,n=t.indexOf("minor")>=0||e.note.indexOf("\u266d")>=0,l=Object(i.a)(r.intervals);try{for(l.s();!(s=l.n()).done;){var o=s.value,c=u.intervals.byName(o),h=u.notes.calc(e,c,n);c=Object.assign({},c,{abr:o,note:h}),a.push(c)}}catch(d){l.e(d)}finally{l.f()}var f=Object.assign({},r,{type:"scale",fullName:e.note+" "+r.name,shortName:e.note+" "+r.short,abbrevName:e.note+r.abr,root:Object.assign({},e),ivls:a});return f}},semis:{calc:function(e,t){var a=12*t;return a+=u.intervals.byName(e).semis}}});u.fretboard.init();var p,m=u,v=a(0),j=function(e){Object(d.a)(a,e);var t=Object(b.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this,e)).buttonClick=r.buttonClick.bind(Object(f.a)(r)),r.fretBtnTextChange=r.fretBtnTextChange.bind(Object(f.a)(r)),r.fretClick=r.fretClick.bind(Object(f.a)(r)),r.fretFltrClick=r.fretFltrClick.bind(Object(f.a)(r)),r.strgFltrClick=r.strgFltrClick.bind(Object(f.a)(r)),r}return Object(h.a)(a,[{key:"buttonClick",value:function(e){var t=this.props.qry,a=e.target;if("BUTTON"!==a.nodeName&&"BUTTON"!==(a=a.parentNode).nodeName&&(a=a.parentNode),"BUTTON"===a.nodeName){if(["fretRoot","selNote"].indexOf(t.rootType)>=0&&["fretRoot","selNote"].indexOf(a.dataset.state)>=0&&null===t.scale&&null===t.chord&&null===t.ivl)this.props.stateChange("fretRoot",null);else{if("fretSelect"===t.rootType&&"fretSelect"===a.dataset.state&&a.dataset.tab===t.fretSelect[0].tab)return void this.props.stateChange("fretSelect",null);if("fretSelect"===t.rootType&&this.props.fretSelectFind(a.dataset.tab)>=0)2===t.fretSelect.length?this.props.stateChange("fretRoot",t.fretSelect[0]):this.props.stateChange("fretSelect",a.dataset.tab);else{var r=Number(a.dataset.selected);0===r?a.dataset.selected=1:1===r&&(a.dataset.selected=0)}}e.stopPropagation()}}},{key:"fretBtnTextChange",value:function(e){e.stopPropagation(),"NoteFirst"===this.props.qry.fretBtnText?this.props.stateChange("fretBtnText","IvlFirst"):this.props.stateChange("fretBtnText","NoteFirst")}},{key:"fretClick",value:function(e){var t=this.props.qry,a=e.target,r=Number(a.dataset.strn),s=Number(a.dataset.fret);if(isNaN(r))console.log("FretPnl.fretClick() error, bad caller:",a);else if(e.stopPropagation(),"true"!==a.dataset.fretfilter){if(7===r)r=6;else if(1!==r&&"TD"===a.nodeName){e.clientY<a.getBoundingClientRect().top+a.offsetHeight/2&&r--}if(!0!==this.props.strgFltr(r)){var n=m.notes.obj(r,s),l=document.querySelector("#Fretboard"+t.fbid+" .fretButton[data-tab="+n.tab+"]");if(null!==l)return e.target=l,void this.buttonClick(e);["","selNote"].indexOf(t.rootType)>=0?this.props.stateChange("fretRoot",n):"fretRoot"===t.rootType?this.props.stateChange("fretSelect",[t.root,n]):"fretSelect"===t.rootType&&this.props.stateChange("fretSelect",n)}}}},{key:"fretFltrClick",value:function(e){var t=e.currentTarget,a=Number(t.dataset.fret);e.stopPropagation(),this.props.stateChange("fretFilter",a)}},{key:"strgFltrClick",value:function(e){var t=e.currentTarget.dataset.strn,a=!this.props.strgFltr(t);this.props.stateChange("strgFltr"+t,a),e.stopPropagation()}},{key:"button",value:function(e,t){var a=this.props.qry,r=e.ivl,s=a.fretBtnText,n="";if("ALL"===t){if(0!==a.octave&&a.octave!==e.octave)return null;s="NoteFirst"}else"fretRoot"===a.rootType?e.notes.indexOf(t.note)>=0&&e.semis===t.semis&&(n=a.rootType):"selNote"===a.rootType?t.notes.indexOf(e.note)>=0&&(n=a.rootType):"fretSelect"===a.rootType&&(e.tab===a.fretSelect[0].tab?n=a.rootType:e.fsmatch&&(n="fretSelectMatch"));a.noteFilter.indexOf(e.note)>=0?n="noteFilter":""===n&&e.state&&(n=e.state);var l=[],o=0;return"IvlFirst"===s?(e.ivl&&l.push(Object(v.jsxs)("span",{className:"spanIvl",onClick:this.buttonClick,children:[Object(v.jsx)("span",{onClick:this.buttonClick,children:r.abr.substr(0,1)},++o),r.abr.substr(1)]},++o)),l.push(Object(v.jsxs)("sub",{className:"subNote",onClick:this.fretBtnTextChange,children:[e.note,Object(v.jsx)("sub",{className:"subOctave",children:e.octave},++o)]},++o))):(l.push(Object(v.jsxs)("span",{className:"spanNote",onClick:this.buttonClick,children:[e.note,Object(v.jsx)("sub",{className:"subOctave",onClick:this.buttonClick,children:e.octave},++o)]},++o)),e.ivl&&l.push(Object(v.jsx)("sub",{className:"subInterval",onClick:this.fretBtnTextChange,children:r.abr},++o))),Object(v.jsx)("button",{className:"fretButton",onClick:this.buttonClick,"data-strn":e.strgnum,"data-fret":e.fret,"data-tab":e.tab,"data-state":n,"data-selected":0,children:l},++o)}},{key:"render",value:function(){var e=this,t=this.props.qry;function a(a){return"fretRoot"!==t.rootType?null:a.tab===t.root.tab?e.button(a,t.root):null}function r(a){if("selNote"!==t.rootType)return null;var r=a.notes.indexOf(t.note);return!(""===t.note||r>=0)||0!==t.octave&&t.octave!==a.octave?null:(""!==t.note&&(a.note=t.note),e.button(a,t.root))}function s(a){if("fretSelect"!==t.rootType)return null;if(0===t.fretSelect.length)return null;var r,s=Object(i.a)(t.fretSelect);try{for(s.s();!(r=s.n()).done;){var n=r.value;if(a.tab===n.tab&&(0===t.octave||t.octave===a.octave))return a.ivl=n.ivl,a.note=n.note,e.button(a,t.root)}}catch(l){s.e(l)}finally{s.f()}return null}function n(a){if("fretSelect"!==t.rootType)return null;if(null===t.fretSelectMatch)return null;var r,s=Object(i.a)(t.fretSelectMatch.obj.ivls);try{for(s.s();!(r=s.n()).done;){var n=r.value;if(a.notes.indexOf(n.note)>=0&&(0===t.octave||t.octave===a.octave))return a.ivl=n,a.note=n.note,e.props.fretSelectFind(a.tab)<0&&(a.fsmatch=!0),e.button(a,t.root)}}catch(l){s.e(l)}finally{s.f()}return null}function l(a){if(""===t.note)return t.octave===a.octave?(a.ivl=t.ivl,e.button(a,t.root)):null}function o(a){if(null===t.scale)return null;if("fretRoot"===t.rootType&&!0!==m.fretboard.fretInRange(a,t.root))return null;var r,s=Object(i.a)(t.scale.ivls);try{for(s.s();!(r=s.n()).done;){var n=r.value;if(a.notes.indexOf(n.note)>=0&&(0===t.octave||t.octave===a.octave))return a.ivl=n,a.note=n.note,e.button(a,t.root)}}catch(l){s.e(l)}finally{s.f()}return null}function c(a){if(null===t.chord)return null;if("fretRoot"===t.rootType&&!0!==m.fretboard.fretInRange(a,t.root))return null;var r,s=Object(i.a)(t.chord.ivls);try{for(s.s();!(r=s.n()).done;){var n=r.value;if(a.notes.indexOf(n.note)>=0&&(0===t.octave||t.octave===a.octave))return a.ivl=n,a.note=n.note,a.state="chord",e.button(a,t.root)}}catch(l){s.e(l)}finally{s.f()}return null}function h(a){if(null===t.ivl)return null;var r=null;return"fretRoot"===t.rootType&&a.tab===t.root.tab||"selNote"===t.rootType&&a.notes.indexOf(t.note)>=0?r="root":"fretRoot"===t.rootType&&!0===m.fretboard.fretInRange(a,t.root,4)?a.notes.indexOf(t.ivl.note)>=0&&(r=!0):"selNote"===t.rootType&&a.notes.indexOf(t.ivl.note)>=0&&(r=!0),"root"===r?(a.ivl=m.intervals.byName("P1"),a.note=t.note,r=e.button(a,t.root)):!0!==r||0!==t.octave&&t.octave!==a.octave||(a.ivl=t.ivl,a.note=t.ivl.note,a.state="interval",r=e.button(a,t.root)),r}for(var f=[],d=m.fretboard.fretMax,b=this.props.fretFirst,u=this.props.fretLast,p="",j=1;j<=9;j++){for(var y=[],g=j-1,O=this.props.strgFltr(g),N=0;N<=d+1;N++){var C="",x=t.fretFilter.indexOf(N)>=0,S=null;if(0===N&&g>=1&&g<=6&&(S=Object(v.jsx)("div",{onClick:this.strgFltrClick,"data-strn":g,className:"btnFilter btnStrgFltr btnStrgFltr"+g,children:Object(v.jsx)("div",{children:"\u2666"})})),1===j){var k=N===d+1?"borderRight tdBorder"+N:"tdBorder"+N,M=N===b||N===d+1?" ":N;M===N&&!0===t.collapsed&&(M=[5,7,9,12].indexOf(N)>=0?Object(v.jsx)("div",{"data-fret":N,className:"collapsed",children:"\xa0"}):""),y.push(Object(v.jsx)("td",{"data-fret":N,"data-fretfilter":x,onMouseDown:this.fretFltrClick,className:k,children:M},N))}else if(9===j)N===d+1?y.push(Object(v.jsx)("td",{className:"borderRight tdBottom col"+N},N)):y.push(Object(v.jsx)("td",{className:"tdBottom col"+N},N));else if(N===d+1)y.push(Object(v.jsx)("td",{"data-strn":g,"data-col":N,className:"borderRight col"+N},N));else{var F=null,P=null;if(g>=1&&g<=6&&(P=Object(v.jsx)("div",{className:"stringdiv",onClick:this.fretClick,"data-strn":g,"data-fret":N})),!1===x&&!1===O&&N>=b&&N<=u){var T=m.notes.obj(g,N);C=T.tab,"selNote"===t.rootType&&"All"===this.props.selNoteVal?F=e.button(T,"ALL"):(null===(F=n(T))&&(F=s(T)),null===F&&(F=h(T)),null===F&&(F=c(T)),null===F&&(F=o(T)),null===F&&("fretRoot"===t.rootType?F=a(T):"selNote"===t.rootType&&(F=r(T))),null===F&&(F=l(T)))}y.push(Object(v.jsxs)("td",{className:"fret fret"+N,onClick:this.fretClick,"data-strn":g,"data-fret":N,"data-tab":C,"data-fretfilter":x,children:[S,F,P,Object(v.jsx)("div",{className:"fretbar",onClick:this.fretClick,"data-strn":g,"data-fret":N})]},N))}}p=1===j?"frame frameTop":8===j?"borderBottom":9===j?"frame frameBottom":"strg strg"+(j-1),f.push(Object(v.jsx)("tr",{className:p,"data-fltr":O,children:y},j))}return Object(v.jsx)("div",{className:"fretPnlContainer",children:Object(v.jsx)("table",{className:"fretPnl",children:Object(v.jsx)("tbody",{children:f})})})}}]),a}(s.a.Component),y=function(e){Object(d.a)(a,e);var t=Object(b.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this,e)).btnDupeClick=r.btnDupeClick.bind(Object(f.a)(r)),r.btnDelClick=r.btnDelClick.bind(Object(f.a)(r)),r.last={},r.selLabelClick=r.selLabelClick.bind(Object(f.a)(r)),r.selChordChange=r.selChordChange.bind(Object(f.a)(r)),r.btnClearClick=r.btnClearClick.bind(Object(f.a)(r)),r.btnCollapseClick=r.btnCollapseClick.bind(Object(f.a)(r)),r.selIntervalChange=r.selIntervalChange.bind(Object(f.a)(r)),r.selNoteChange=r.selNoteChange.bind(Object(f.a)(r)),r.selOctaveChange=r.selOctaveChange.bind(Object(f.a)(r)),r.selScaleChange=r.selScaleChange.bind(Object(f.a)(r)),r.fsChordClick=r.fsChordClick.bind(Object(f.a)(r)),r.fsScaleClick=r.fsScaleClick.bind(Object(f.a)(r)),r.infoNoteClick=r.infoNoteClick.bind(Object(f.a)(r)),r}return Object(h.a)(a,[{key:"btnDelClick",value:function(){this.props.remove()}},{key:"btnDupeClick",value:function(){this.props.duplicate()}},{key:"btnCollapseClick",value:function(){var e=!this.props.qry.collapsed;this.props.stateChange("collapsed",e)}},{key:"btnClearClick",value:function(){this.props.reset()}},{key:"fsChordClick",value:function(e){var t=e.target,a=this.props.qry;"label"===t.dataset.selected?(this.props.stateChange("fretSelectMatch",null),this.props.stateChange("noteFilter","clear")):null!=a.fretSelectMatch&&a.fretSelectMatch.note===t.dataset.note&&a.fretSelectMatch.abr===t.dataset.abr?this.props.stateChange("fretSelectMatch",null):this.props.stateChange("fretSelectMatch",{type:"chord",note:t.dataset.note,abr:t.dataset.abr})}},{key:"fsScaleClick",value:function(e){var t=e.target,a=this.props.qry;"label"===t.dataset.selected?(this.props.stateChange("fretSelectMatch",null),this.props.stateChange("noteFilter","clear")):null!=a.fretSelectMatch&&a.fretSelectMatch.note===t.dataset.note&&a.fretSelectMatch.abr===t.dataset.abr?this.props.stateChange("fretSelectMatch",null):this.props.stateChange("fretSelectMatch",{type:"scale",note:t.dataset.note,abr:t.dataset.abr})}},{key:"infoNoteClick",value:function(e){e.stopPropagation();var t=e.target;if("label"===t.dataset.selected)this.props.stateChange("fretSelectMatch",null),this.props.stateChange("noteFilter","clear");else{"ivl"!==t.className&&(t=t.parentNode);var a=t.dataset.note;"string"===typeof a&&this.props.stateChange("noteFilter",a)}}},{key:"selLabelClick",value:function(e){var t=this.props.qry,a=e.target;if("true"===a.dataset.selected)if("note"===a.dataset.type){if(""===t.rootType)return;this.last.rootType=t.rootType,this.last.root=t.root,"selNote"===this.last.rootType&&this.props.stateChange("selNoteVal",""),"fretRoot"===this.last.rootType&&this.props.stateChange("fretRoot",null)}else if("chord"===a.dataset.type){if(null===t.chord)return;this.last.chordName=t.chord.name,this.props.stateChange("chordName","")}else if("scale"===a.dataset.type){if(null===t.scale)return;this.last.scaleName=t.scale.name,this.props.stateChange("scaleName","")}else"octave"===a.dataset.type?(this.last.octave=t.octave,this.props.stateChange("octave",0)):"ivlName"===a.dataset.type&&(this.last.ivlName=this.props.ivlName,this.props.stateChange("ivlName",""));else if("note"===a.dataset.type){if(!this.last.rootType)return;"selNote"===this.last.rootType?null!==this.last.root&&this.props.stateChange("selNoteVal",this.last.root.note):"fretRoot"===this.last.rootType&&null!==this.last.root&&this.props.stateChange("fretRoot",this.last.root)}else"chord"===a.dataset.type?this.last.chordName&&""!==this.last.chordName&&this.props.stateChange("chordName",this.last.chordName):"scale"===a.dataset.type?this.last.scaleName&&""!==this.last.scaleName&&this.props.stateChange("scaleName",this.last.scaleName):"octave"===a.dataset.type?this.last.octave&&""!==this.last.octave&&this.props.stateChange("octave",this.last.octave):"ivlName"===a.dataset.type&&this.last.ivlName&&""!==this.last.ivlName&&this.props.stateChange("ivlName",this.last.ivlName)}},{key:"selNoteChange",value:function(e){var t=e.target,a=t.options[t.selectedIndex].text;this.props.stateChange("selNoteVal",a)}},{key:"selOctaveChange",value:function(e){var t=e.target,a=t.options[t.selectedIndex].text;""===a?this.props.stateChange("octave",0):this.props.stateChange("octave",Number(a))}},{key:"selIntervalChange",value:function(e){var t=e.target,a=t.options[t.selectedIndex].dataset.abr;this.props.stateChange("ivlName",a)}},{key:"selChordChange",value:function(e){var t=e.target,a=t.options[t.selectedIndex].text;this.props.stateChange("chordName",a)}},{key:"selScaleChange",value:function(e){var t=e.target,a=t.options[t.selectedIndex].text;this.props.stateChange("scaleName",a)}},{key:"drawSelNote",value:function(){for(var e=this.props.qry,t=[Object(v.jsx)("option",{},""),Object(v.jsx)("option",{children:"All"},"999")],a=0;a<m.notes.list.length;a++){var r=m.notes.list[a];t.push(Object(v.jsx)("option",{children:r},a))}var s=null===e.note?"":e.note;return Object(v.jsxs)("div",{className:"dataPnl pnlNote",children:[Object(v.jsx)("label",{"data-selected":""!==s,"data-type":"note",onClick:this.selLabelClick,children:"Note"}),Object(v.jsx)("select",{value:s,className:"selNote",onChange:this.selNoteChange,children:t})]})}},{key:"drawSelOctave",value:function(){var e,t=this.props.qry.octave,a=[Object(v.jsx)("option",{},999)];e=m.notes.obj(6,0).octave;for(var r=m.notes.obj(1,m.fretboard.fretMax).octave;r>=e;r--)a.push(Object(v.jsx)("option",{children:r},r));return Object(v.jsxs)("div",{className:"dataPnl pnlOctave",children:[Object(v.jsx)("label",{"data-selected":0!==t,"data-type":"octave",onClick:this.selLabelClick,children:"Octave"}),Object(v.jsx)("select",{value:t,className:"selOctave",onChange:this.selOctaveChange,children:a})]})}},{key:"drawSelScale",value:function(){var e,t=this.props.scaleName,a=0,r=[Object(v.jsx)("option",{},"aaa")],s=Object(i.a)(m.scales.list);try{for(s.s();!(e=s.n()).done;){var n=e.value;r.push(Object(v.jsx)("option",{children:n.name},++a))}}catch(l){s.e(l)}finally{s.f()}return Object(v.jsxs)("div",{className:"dataPnl pnlScale",children:[Object(v.jsx)("label",{"data-selected":""!==t,"data-type":"scale",onClick:this.selLabelClick,children:"Scale"}),Object(v.jsx)("select",{value:t,className:"selScale",onChange:this.selScaleChange,children:r})]})}},{key:"drawSelChord",value:function(){var e,t=0,a=this.props.chordName,r="",s=[Object(v.jsx)("option",{},"aaa")],n=Object(i.a)(m.chords.list);try{for(n.s();!(e=n.n()).done;){var l=e.value;s.push(Object(v.jsx)("option",{children:l.name},++t))}}catch(o){n.e(o)}finally{n.f()}return""!==a&&(r="chord"),Object(v.jsxs)("div",{className:"dataPnl pnlChord",children:[Object(v.jsx)("label",{"data-selected":""!==a,"data-type":"chord",onClick:this.selLabelClick,children:"Chord"}),Object(v.jsx)("select",{value:a,className:"selChord",onChange:this.selChordChange,"data-state":r,children:s})]})}},{key:"drawSelInterval",value:function(){var e,t=this.props.qry,a=[Object(v.jsx)("option",{},"aaa")],r=0,s="",n="",l=Object(i.a)(m.intervals.list);try{for(l.s();!(e=l.n()).done;){var o=e.value;if(0!==o.semis&&12!==o.semis){var c="".concat(o.name," (").concat(o.abr,", ").concat(o.semis,")");a.push(Object(v.jsx)("option",{"data-abr":o.abr,children:c},++r)),null!==t.ivl&&""===s&&t.ivl.abr===o.abr&&(s=c)}}}catch(h){l.e(h)}finally{l.f()}return""!==s&&(n="interval"),Object(v.jsxs)("div",{className:"dataPnl pnlInterval",children:[Object(v.jsx)("label",{"data-selected":""!==s,onClick:this.selLabelClick,"data-type":"ivlName",children:"Interval"}),Object(v.jsx)("select",{value:s,className:"selInterval",title:"Intervals sorted by semis-tones","data-state":n,onChange:this.selIntervalChange,children:a})]})}},{key:"drawFretSelectMatches",value:function(e,t){var a=this.props.qry,r=0;if(a.fretSelect.length<2)return null;var s=a.fretSelect.slice(),n=null;s=s.filter((function(e){return null!=n&&n.notes.indexOf(e.note)>=0?null:(n=e,e)}));var l=[],o=t,c=null;n=null;var h,f=Object(i.a)(m.chords.list);try{for(f.s();!(h=f.n()).done;){var d,b=h.value,u=Object(i.a)(m.intervals.list);try{for(u.s();!(d=u.n()).done;){var p=d.value;if((null==n||n.semis!==p.semis)&&12!==p.semis){n=p;var j=m.chords.obj(p.note,b.name).ivls;!0===m.notes.match(j,s)&&l.push({note:p.note,chord:b})}}}catch(R){u.e(R)}finally{u.f()}}}catch(R){f.e(R)}finally{f.f()}for(var y=0,g=l;y<g.length;y++){var O=g[y],N=O.chord;o===t&&(e.push(Object(v.jsx)("div",{className:"lineBreak",children:"\xa0 "},++t)),e.push(Object(v.jsx)("span",{className:"propName","data-selected":"label",onClick:this.fsChordClick,children:"Matching chords:\xa0"},++t))),r=0,null!=a.fretSelectMatch&&a.fretSelectMatch.note===O.note&&a.fretSelectMatch.abr===N.abr&&(r="fretSelectMatch"),null!==c&&c!==N.name&&e.push(Object(v.jsx)("i",{children:" \u2014 "},++t)),c=N.name,e.push(Object(v.jsxs)("span",{className:"ivl",onClick:this.fsChordClick,title:O.note+" "+N.name,"data-note":O.note,"data-abr":N.abr,"data-selected":r,children:["\u2008",O.note,"\u202f",N.abr,"\u2008"]},++t))}l=[],o=t,c=null,n=null;for(var C=0,x=["Major","Minor","Pen.Maj","Pen.min","Blues7","Blues6"];C<x.length;C++){var S,k=x[C],M=Object(i.a)(m.intervals.list);try{for(M.s();!(S=M.n()).done;){var F=S.value;if((null==n||n.semis!==F.semis)&&12!==F.semis){n=F;var P=m.scales.obj(F.note,k),T=P.ivls;!0===m.notes.match(T,s)&&l.push({note:F.note,scale:P})}}}catch(R){M.e(R)}finally{M.f()}}for(var w=0,B=l;w<B.length;w++){var A=B[w];r=0;var L=A.scale;o===t&&(e.push(Object(v.jsx)("div",{className:"lineBreak",children:"\xa0 "},++t)),e.push(Object(v.jsx)("span",{className:"propName","data-selected":"label",onClick:this.fsScaleClick,children:"Matching scales:\xa0"},++t))),null!=a.fretSelectMatch&&a.fretSelectMatch.note===A.note&&a.fretSelectMatch.abr===L.abr&&(r="fretSelectMatch"),null!==c&&c!==L.name&&e.push(Object(v.jsx)("i",{children:" \u2014 "},++t)),c=L.name,e.push(Object(v.jsxs)("span",{className:"ivl",onClick:this.fsScaleClick,title:A.note+" "+L.name,"data-note":A.note,"data-abr":L.abr,"data-selected":r,children:[" \u2008",A.note,"\u202f",L.short,"\u2008"]},++t))}return t}},{key:"drawInfo",value:function(e){var t=this,a=this.props.qry,r=0,s=[],n=0,l=null;if("fretSelect"===a.rootType){s.push(Object(v.jsx)("span",{className:"propName","data-selected":"label",onClick:this.infoNoteClick,children:"Fret select:\xa0"},++n));var o=null;if(a.fretSelect.forEach((function(e){o&&o.note===e.note||(r=a.noteFilter.indexOf(e.note)>=0?"noteFilter":0,s.push(Object(v.jsxs)("span",{className:"ivl",onClick:t.infoNoteClick,"data-note":e.note,"data-selected":r,children:["\xa0",e.note," ",Object(v.jsx)("sub",{children:e.ivl.abr})," "]},++n)),o=e)})),null!=a.fretSelectMatch){s.push(Object(v.jsx)("div",{className:"lineBreak",children:"\xa0 "},++n)),s.push(Object(v.jsxs)("span",{className:"propName","data-selected":"label",onClick:this.infoNoteClick,children:["Selected, ",a.fretSelectMatch.obj.fullName,":\xa0"]},++n));var c,h=Object(i.a)(a.fretSelectMatch.obj.ivls);try{for(h.s();!(c=h.n()).done;){var f=c.value;r=a.noteFilter.indexOf(f.note)>=0?"noteFilter":0,s.push(Object(v.jsxs)("span",{className:"ivl",onClick:this.infoNoteClick,"data-note":f.note,"data-selected":r,children:["\xa0",f.note," ",Object(v.jsx)("sub",{children:f.abr})," "]},++n))}}catch(d){h.e(d)}finally{h.f()}}"qryCollapsed"!==e&&(n=this.drawFretSelectMatches(s,n))}else"selNote"===a.rootType&&"All"===this.props.selNoteVal?(s.push(Object(v.jsx)("span",{className:"propName","data-selected":"label",onClick:this.infoNoteClick,children:"All Notes"},++n)),0!==a.octave&&s.push(Object(v.jsxs)("span",{className:"ivl",children:[": Octave ",a.octave," "]},++n))):(l=n,null!==a.scale&&(s.push(Object(v.jsx)("span",{className:"propName","data-selected":"label",onClick:this.infoNoteClick,children:a.root.note+" "+a.scale.name+":"},++n)),a.scale.ivls.forEach((function(e){r=a.noteFilter.indexOf(e.note)>=0?"noteFilter":0,s.push(Object(v.jsxs)("span",{className:"ivl",onClick:t.infoNoteClick,"data-note":e.note,"data-selected":r,children:["\xa0",e.note," ",Object(v.jsx)("sub",{children:e.abr})," "]},++n))}))),null!==a.chord&&(l!==n&&s.push(Object(v.jsx)("div",{className:"lineBreak",children:"\xa0 "},++n)),s.push(Object(v.jsx)("span",{className:"propName","data-selected":"label",onClick:this.infoNoteClick,children:a.root.note+" "+a.chord.name+":"},++n)),a.chord.ivls.forEach((function(e){r=a.noteFilter.indexOf(e.note)>=0?"noteFilter":0,s.push(Object(v.jsxs)("span",{className:"ivl",onClick:t.infoNoteClick,"data-note":e.note,"data-selected":r,children:["\xa0",e.note," ",Object(v.jsx)("sub",{children:e.abr})," "]},++n))}))),null!==a.ivl&&(r=a.noteFilter.indexOf(a.ivl.note)>=0?"noteFilter":0,l!==n&&s.push(Object(v.jsx)("div",{className:"lineBreak",children:"\xa0 "},++n)),s.push(Object(v.jsx)("span",{className:"propName","data-selected":"label",onClick:this.infoNoteClick,children:a.note+("fretRoot"===a.rootType?a.root.octave:"")+" + "+a.ivl.name+":"},++n)),s.push(Object(v.jsxs)("span",{className:"ivl",onClick:this.infoNoteClick,"data-note":a.ivl.note,"data-selected":r,children:["\xa0",a.ivl.note," ",Object(v.jsx)("sub",{children:a.ivl.abr})," "]},++n))));return 0===s.length?null:Object(v.jsx)("div",{className:"infoPnl",children:Object(v.jsx)("div",{className:"infoDiv",children:s})})}},{key:"render",value:function(){var e=this.props.qry,t=e.collapsed?"qryCollapsed":"qryExpanded",a=null,r=null,s=null,n=null,l=null;"fretSelect"!==e.rootType&&(a=this.drawSelNote(),r=this.drawSelOctave(),s=this.drawSelInterval(),n=this.drawSelScale(),l=this.drawSelChord());var o=this.drawInfo(t),i=null;return"qryCollapsed"===t&&(i=Object(v.jsxs)("div",{className:"qryBtn qryBtnExpand",onClick:this.btnCollapseClick,title:"Show query panel",children:[" ",Object(v.jsx)("div",{children:"\u27a4"})," "]})),Object(v.jsx)("div",{className:"queryPnl "+t,children:Object(v.jsx)("table",{className:"tbQuery",children:Object(v.jsx)("tbody",{children:Object(v.jsxs)("tr",{children:[Object(v.jsxs)("td",{className:"qryBtnsLeft",children:[i,Object(v.jsx)("div",{className:"qryBtn qryBtnCollapse",onClick:this.btnCollapseClick,title:"Hide query panel",children:Object(v.jsx)("div",{children:"\u27a4"})})]}),Object(v.jsxs)("td",{className:"qryContent",children:[Object(v.jsxs)("div",{className:"queryControls","data-roottype":e.rootType,children:[a,r,n,l,s]}),o]}),Object(v.jsxs)("td",{className:"qryBtnsRight",children:[Object(v.jsx)("div",{className:"qryBtn qryBtnClear",onClick:this.btnClearClick,title:"Reset query controls",children:"\u21bb"}),Object(v.jsx)("div",{className:"qryBtn qryBtnDupe",onClick:this.btnDupeClick,title:"Duplicate fretboard",children:"\u271a"}),0===e.fbid?null:Object(v.jsx)("div",{className:"qryBtn qryBtnDel",onClick:this.btnDelClick,title:"Remove this fretboard",children:"\u2710"})]})]})})})})}}]),a}(s.a.Component),g=function(e){Object(d.a)(a,e);var t=Object(b.a)(a);function a(e){var r;return Object(c.a)(this,a),console.log("Fretboard.constructor()",e),(r=t.call(this,e)).state={fbid:e.fbid?e.fbid:0,collapsed:!!e.collapsed&&e.collapsed,fretFirst:e.fretFirst?e.fretFirst:0,fretLast:e.fretLast?e.fretLast:m.fretboard.fretMax,fretBtnText:e.fretBtnText?e.fretBtnText:"NoteFirst",fretFilter:e.fretFilter?e.fretFilter:[],strgFltrList:e.strgFltrList?e.strgFltrList:"",noteFilter:e.noteFilter?e.noteFilter:[],fretSelect:e.fretSelect?e.fretSelect:[],fretSelectMatch:e.fretSelectMatch?e.fretSelectMatch:null,rootType:e.rootType?e.rootType:"",fretRoot:e.fretRoot?e.fretRoot:null,selNoteVal:e.selNoteVal?e.selNoteVal:"",octave:e.octave?e.octave:0,scaleName:e.scaleName?e.scaleName:"",chordName:e.chordName?e.chordName:"",ivlName:e.ivlName?e.ivlName:""},r.duplicate=r.duplicate.bind(Object(f.a)(r)),r.remove=r.remove.bind(Object(f.a)(r)),r.reset=r.reset.bind(Object(f.a)(r)),r.stateChange=r.stateChange.bind(Object(f.a)(r)),r.strgFltr=r.strgFltr.bind(Object(f.a)(r)),r.makeQuery=r.makeQuery.bind(Object(f.a)(r)),r.fretSelectFind=r.fretSelectFind.bind(Object(f.a)(r)),r}return Object(h.a)(a,[{key:"reset",value:function(){this.setState({collapsed:!1}),this.setState({fretSelectMatch:null}),this.setState({fretSelect:[]}),this.setState({noteFilter:[]}),this.setState({strgFltrList:""}),this.setState({fretFilter:[]}),this.setState({scaleName:""}),this.setState({chordName:""}),this.setState({rootType:""}),this.setState({ivlName:""}),this.setState({fretRoot:null}),this.setState({selNoteVal:""}),this.setState({octave:0}),this.setState({fretBtnText:"NoteFirst"})}},{key:"strgFltr",value:function(e){return(e=Number(e))<1||e>6?null:this.state.strgFltrList.indexOf(e+",")>=0}},{key:"remove",value:function(){this.props.remove(this)}},{key:"duplicate",value:function(){this.props.duplicate(this)}},{key:"fretSelectFind",value:function(e){var t=this.state.fretSelect,a=-1;if(0===t.length||null===e)return a;for(var r="string"===typeof e?e:e.tab,s=0;s<t.length;s++)if(r===t[s].tab){a=s;break}return a}},{key:"stateChange",value:function(e,t){if("collapsed"===e)this.setState({collapsed:t});else if("noteFilter"===e)if("clear"===t)this.setState({noteFilter:[]});else{var a=this.state.noteFilter.slice(),r=a.indexOf(t);r<0?a.push(t):a.splice(r,1),this.setState({noteFilter:a})}else if("fretBtnText"===e)this.setState({fretBtnText:t});else if("fretFilter"===e){var s=this.state.fretFilter.slice(),n=s.indexOf(t);n<0?s.push(t):s.splice(n,1),this.setState({fretFilter:s})}else if("fretRoot"===e)this.setState({fretRoot:t}),null===t?this.setState({rootType:""}):this.setState({rootType:"fretRoot"}),this.setState({selNoteVal:""}),this.setState({fretSelect:[]});else if("selNoteVal"===e)this.setState({selNoteVal:t}),""===t?this.setState({rootType:""}):this.setState({rootType:"selNote"}),this.setState({fretRoot:null}),this.setState({fretSelect:[]});else if("fretSelect"===e){if(null===t)return this.setState({fretSelect:[]}),this.setState({rootType:""}),this.setState({fretRoot:null}),void this.setState({selNoteVal:""});!1===Array.isArray(t)&&(t=[t]);var l,o=this.state.fretSelect.slice(),c=null,h=null,f=Object(i.a)(t);try{for(f.s();!(l=f.n()).done;){var d=l.value;if((c=this.fretSelectFind(d))<0)if(0===o.length)d.ivl=m.intervals.byName("P1"),o.push(d);else{null===h&&(h=o[0]);var b=(d.semis-h.semis)%12;b<12&&(b=12+b),d.ivl=m.intervals.bySemis(b,!0),o.push(d)}else o.splice(c,1)}}catch(j){f.e(j)}finally{f.f()}o.sort((function(e,t){return e.ivl.semis-t.ivl.semis})),this.setState({fretSelect:o}),"fretSelect"!==this.state.rootType&&(this.setState({rootType:"fretSelect"}),this.setState({fretRoot:null}),this.setState({selNoteVal:""}))}else if("fretSelectMatch"===e)this.setState({fretSelectMatch:t});else if("strgFltr"===e.substr(0,8)){var u=Number(e.substr(8,1)),p=this.state.strgFltrList.slice();if(u<1||u>6)throw Error("Fretboard.stateChange() error, strN is wrong:[".concat(e,"]."));var v=p.indexOf(u+",");!0===t?v<0&&(p+=u+",",this.setState({strgFltrList:p})):v>=0&&(p=p.replace(u+","),this.setState({strgFltrList:p}))}else"fretFirst"===e?this.setState({fretFirst:t}):"fretLast"===e?this.setState({fretLast:t}):"octave"===e?this.setState({octave:t}):"scaleName"===e?this.setState({scaleName:t}):"chordName"===e?this.setState({chordName:t}):"ivlName"===e?this.setState({ivlName:t}):"semis"===e&&this.setState({semis:t})}},{key:"makeQuery",value:function(){var e={fbid:this.state.fbid,rootType:this.state.rootType,root:null,note:"fretRoot"===this.state.rootType?this.state.fretRoot.notes[0]:this.state.selNoteVal,octave:this.state.octave,scale:null,chord:null,ivl:null,collapsed:this.state.collapsed,fretBtnText:this.state.fretBtnText,fretFilter:this.state.fretFilter,noteFilter:this.state.noteFilter,fretSelect:this.state.fretSelect,fretSelectMatch:this.state.fretSelectMatch};return"fretRoot"===e.rootType&&(e.root=this.state.fretRoot),"selNote"===e.rootType&&""!==e.note&&"All"!==e.note&&(e.root=m.notes.objByNote(e.note)),"fretSelect"===e.rootType&&(e.root=this.state.fretSelect[0]),null!=e.fretSelectMatch&&("chord"===e.fretSelectMatch.type?e.fretSelectMatch.obj=m.chords.obj(e.fretSelectMatch.note,e.fretSelectMatch.abr):"scale"===e.fretSelectMatch.type&&(e.fretSelectMatch.obj=m.scales.obj(e.fretSelectMatch.note,e.fretSelectMatch.abr))),""!==this.state.scaleName&&e.root&&(e.scale=m.scales.obj(e.note,this.state.scaleName)),""!==this.state.chordName&&e.root&&(e.chord=m.chords.obj(e.note,this.state.chordName)),""!==this.state.ivlName&&e.root&&(e.ivl=m.intervals.byName(this.state.ivlName),e.ivl.note=m.notes.calc(e.note,e.ivl)),e}},{key:"render",value:function(){var e=this.makeQuery();return console.log("Fretboard.render()",this.props,this.state,e),Object(v.jsxs)("div",{className:"fretboard",id:"Fretboard"+e.fbid,children:[Object(v.jsx)(j,{collapsed:this.state.collapsed,fretFirst:this.state.fretFirst,fretLast:this.state.fretLast,ivlName:this.state.ivlName,selNoteVal:this.state.selNoteVal,qry:e,stateChange:this.stateChange,strgFltr:this.strgFltr,fretSelectFind:this.fretSelectFind}),Object(v.jsx)(y,{collapsed:this.state.collapsed,fretFirst:this.state.fretFirst,fretLast:this.state.fretLast,selNoteVal:this.state.selNoteVal,chordName:this.state.chordName,scaleName:this.state.scaleName,ivlName:this.state.ivlName,duplicate:this.duplicate,qry:e,remove:this.remove,reset:this.reset,stateChange:this.stateChange,strgFltr:this.strgFltr})]})}}]),a}(s.a.Component),O=a(12),N=(a(22),function(){return Object(v.jsx)(O.a,{trigger:Object(v.jsx)("button",{className:"btnInfo",children:"About"}),modal:!0,nested:!0,children:function(e){return Object(v.jsxs)("div",{className:"modal",children:[Object(v.jsx)("div",{className:"header",children:" About GuitarJoe "}),Object(v.jsxs)("div",{className:"content",children:["Important: ",Object(v.jsx)("br",{}),"\xa0- Everything is clickable...please explore",Object(v.jsx)("br",{}),"\xa0- use your browser's zoom controls to enlarge/shrink the controls",Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),"GuitarJoe is a free web application, no ads, no logins, no tracking. The goal was to create a tool that would make guitar theory accessible while practicing. I am not anything close to a musician, so I was going crazy taking notes and diagraming chords, scales and intervals: I needed a tool to facilitate my understanding so I could focus on the guitar instead of managing scraps of information. This application has successfully reduced my hair loss--I hope it has the same effect on you!",Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),"At this point it is a proof of concept as I wrangle technologies and concepts. I am an IT guy who is (obviously) not musically gifted, so there is a lot of research behind the functionality. My aim is to keep the app freely available to support those learning guitar; a warm thanks for those who have supported my various journeys.",Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),"\xa0- Tested to work in Chrome(Windows), Firefox(Windows, Linux), and Safari(iPad, iPhone)",Object(v.jsx)("br",{}),"\xa0- Review documentation, updates and references in the ",Object(v.jsx)("a",{href:"https://github.com/ChrisDeFreitas/guitarjoe/",target:"_new",children:"GitHub Repository"})," ",Object(v.jsx)("br",{}),"\xa0- Send comments and bugs to ",Object(v.jsx)("a",{href:"mailto:ChrisDeFreitas777@gmail.com?subject=GuitarJoe:",children:"ChrisDeFreitas777@gmail.com"}),Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),"Thanks to",Object(v.jsx)("br",{}),"\xa0- Application hosted on ",Object(v.jsx)("a",{href:"https://github.com/ChrisDeFreitas/guitarjoe",target:"_new",children:"Github"}),"  ",Object(v.jsx)("br",{}),"\xa0- Background image from ",Object(v.jsx)("a",{href:"https://www.flickr.com/photos/webtreatsetc/with/4514047664/",target:"_new",children:"WebTreats ETC"})," ",Object(v.jsx)("br",{}),"\xa0- Built with the ",Object(v.jsx)("a",{href:"https://reactjs.org/",target:"_new",children:"React"})," Javascript library ",Object(v.jsx)("br",{}),"\xa0- Chords verified using ",Object(v.jsx)("a",{href:"https://www.omnicalculator.com/other/chord",target:"_new",children:"Omni Chord Calculator"}),Object(v.jsx)("br",{}),"\xa0- ",Object(v.jsx)("a",{href:"https://chir.ag/projects/name-that-color/",children:"Name that Color"})," by Chirag Meta \xa0- Fuggles font by Robert Leuschke on ",Object(v.jsx)("a",{href:"https://fonts.google.com/?query=Robert+Leuschke/",target:"_new",children:"Google Fonts"})," ",Object(v.jsx)("br",{}),"\xa0- Guitar icon by monkik from the ",Object(v.jsx)("a",{href:"https://thenounproject.com/term/guitar/2588464/",target:"_new",children:"Noun Project"})," ",Object(v.jsx)("br",{}),"\xa0- Intervals verified using ",Object(v.jsx)("a",{href:"https://www.omnicalculator.com/other/music-interval",target:"_new",children:"Omni Music Interval Calculator"}),Object(v.jsx)("br",{}),"\xa0- Music theory from ",Object(v.jsx)("a",{href:"https://www.wikipedia.org/",target:"_new",children:"Wikipedia"}),Object(v.jsx)("br",{}),"\xa0- Popup control from ",Object(v.jsx)("a",{href:"https://react-popup.elazizi.com/",target:"_new",children:"reactjs-popup"})," ",Object(v.jsx)("br",{}),"\xa0- Scales researched with ",Object(v.jsx)("a",{href:"https://ianring.com/musictheory/scales",target:"_new",children:"A Study of Scales"})," at ",Object(v.jsx)("a",{href:"https://ianring.com/musictheory/",children:"The Exciting Universe Of Music Theory"}),Object(v.jsx)("br",{}),"\xa0- Scales researched with ",Object(v.jsx)("a",{href:"https://www.scales-chords.com/scalenav.php",target:"_new",children:"ScaleChords' Musical Scale Navigator"}),Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),"Created by Chris DeFreitas, BC Canada",Object(v.jsx)("br",{})]}),Object(v.jsx)("div",{className:"actions",children:Object(v.jsx)("button",{className:"button",onClick:function(){console.log("modal closed "),e()},children:"Close"})})]})}})}),C=["title","titleId"];function x(){return(x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function S(e,t){if(null==e)return{};var a,r,s=function(e,t){if(null==e)return{};var a,r,s={},n=Object.keys(e);for(r=0;r<n.length;r++)a=n[r],t.indexOf(a)>=0||(s[a]=e[a]);return s}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++)a=n[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function k(e,t){var a=e.title,s=e.titleId,n=S(e,C);return r.createElement("svg",x({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64",x:"0px",y:"0px",ref:t,"aria-labelledby":s},n),a?r.createElement("title",{id:s},a):null,p||(p=r.createElement("g",{fill:"#ffffff",stroke:"#0006",strokeWidth:"1px"},r.createElement("path",{d:"M30,23v-4a2,2,0,1,0,0,4Z"}),r.createElement("path",{d:"M48,24V18.038L47.967,18H32.033L32,18.038V25a7.979,7.979,0,0,0,3.556,6.648l.124.078a8.078,8.078,0,0,0,8.762-.076A7.982,7.982,0,0,0,48,25ZM35.5,22A1.5,1.5,0,1,1,37,20.5,1.5,1.5,0,0,1,35.5,22Zm3.361,6H37V26h1.861a7.445,7.445,0,0,0,3.635-.864L43.5,26.864A9.353,9.353,0,0,1,38.861,28ZM44.5,22A1.5,1.5,0,1,1,46,20.5,1.5,1.5,0,0,1,44.5,22Z"}),r.createElement("polygon",{points:"17.279 13 18 10.838 18 4 13 4 13 10.838 13.721 13 17.279 13"}),r.createElement("path",{d:"M17,35.226V15H14V35.226A5.657,5.657,0,0,1,17,35.226Z"}),r.createElement("path",{d:"M50,19v4a2,2,0,0,0,0-4Z"}),r.createElement("path",{d:"M48,11.41v-.021q0-.66-.034-1.324c0-.022,0-.043,0-.065H32.038c0,.022,0,.044,0,.066-.022.441-.033.883-.034,1.323V12H48Z"}),r.createElement("path",{d:"M31,16H49a3.006,3.006,0,0,0,2.829-2H28.171A3.006,3.006,0,0,0,31,16Z"}),r.createElement("path",{d:"M47.613,6.793A3.329,3.329,0,0,0,44.32,4a3.357,3.357,0,0,0-2.781,1.489,1.853,1.853,0,0,1-3.076,0A3.359,3.359,0,0,0,35.68,4a3.33,3.33,0,0,0-3.292,2.79c-.067.4-.1.806-.154,1.21H47.766C47.716,7.6,47.679,7.19,47.613,6.793Z"}),r.createElement("path",{d:"M40,35a9.941,9.941,0,0,1-4-.847V36.17a2,2,0,0,1-1.637,1.963l-1.188.224.383,1.576a6.629,6.629,0,0,0,12.884,0l.383-1.576-1.19-.224A2,2,0,0,1,44,36.17V34.147A9.946,9.946,0,0,1,40,35Z"}),r.createElement("path",{d:"M18,57V56H11a1,1,0,0,1-1-1V51a1,1,0,0,1,1-1h7V45.4a5.495,5.495,0,0,1-6-9.131V29.151a5.078,5.078,0,0,0-3.991,4.606,4.891,4.891,0,0,0,.041.926,12.5,12.5,0,0,1-2.032,9.29A9.98,9.98,0,0,0,4,50.3,10.262,10.262,0,0,0,14.35,60h2.3a10.328,10.328,0,0,0,1.8-.161A4.013,4.013,0,0,1,18,58Z"}),r.createElement("path",{d:"M22.7,58H20a1.958,1.958,0,0,0,.814,1.608A2.01,2.01,0,0,0,22,60h4a1.006,1.006,0,0,1-.555-.168Z"}),r.createElement("polygon",{points:"28 60 28.017 59.998 26 60 28 60"}),r.createElement("polygon",{points:"53.303 51 60 51 60 49 56.303 49 53.303 51"}),r.createElement("path",{d:"M59.941,43.492c-.005-.031-.013-.062-.018-.093a3.991,3.991,0,0,0-.142-.523c-.025-.069-.05-.137-.078-.2a3.814,3.814,0,0,0-.239-.509h0a3.982,3.982,0,0,0-.377-.54c-.014-.018-.03-.034-.045-.051a4.006,4.006,0,0,0-.914-.786c-.06-.038-.12-.075-.18-.108a3.871,3.871,0,0,0-.511-.245l-.041-.017a4.017,4.017,0,0,0-.67-.186l-7.941-1.466-.4,1.643a8.629,8.629,0,0,1-16.772,0l-.4-1.643-7.941,1.466a3.962,3.962,0,0,0-1.248.461c-.044.025-.087.051-.132.079a3.953,3.953,0,0,0-.388.277c-.063.051-.125.1-.184.156-.1.09-.191.186-.28.284-.059.065-.118.13-.173.2a4,4,0,0,0-.576,1c-.025.062-.049.125-.071.189a3.913,3.913,0,0,0-.158.583v0a4.035,4.035,0,0,0-.063.708V47h4a1.006,1.006,0,0,1,.555.168L30.3,51H49.7l5.748-3.832A1.006,1.006,0,0,1,56,47h4V44.162A4.012,4.012,0,0,0,59.941,43.492Z"}),r.createElement("path",{d:"M30,53a1.006,1.006,0,0,1-.555-.168L23.7,49H20v7h3a1.006,1.006,0,0,1,.555.168L26.3,58H32l20.1,2.005L58,60a2,2,0,0,0,2-2V53H30Z"}),r.createElement("path",{d:"M17.448,37.594a3.542,3.542,0,0,0-3.893,0,3.492,3.492,0,1,0,4.619,5.133l.012-.059a.716.716,0,0,1,.023-.1c.028-.1.077-.2.11-.293.042-.127.089-.251.14-.374.038-.092.06-.184.1-.277.079-.164.158-.311.238-.451l0-.01c.053-.093.109-.174.163-.257A3.571,3.571,0,0,0,19,40.5,3.469,3.469,0,0,0,17.448,37.594Z"}),r.createElement("rect",{x:12,y:52,width:6,height:2}),r.createElement("path",{d:"M21.134,38.906c.094-.051.18-.119.276-.164l.447-.192a3.5,3.5,0,0,1,.549-.175,3.424,3.424,0,0,1,.462-.11,15.6,15.6,0,0,1,.081-3.578,4.84,4.84,0,0,0,.042-.926A5.079,5.079,0,0,0,19,29.151v7.113a5.445,5.445,0,0,1,1.815,2.825C20.919,39.024,21.025,38.965,21.134,38.906Z"}))))}var M=r.forwardRef(k);a.p;var F=function(){var e=Object(r.useState)([{id:0,state:!0}]),t=Object(o.a)(e,2),a=t[0],s=t[1],n=Object(r.useState)(null),l=Object(o.a)(n,2),i=l[0],c=l[1];function h(e){for(var t=0;t<a.length;t++)if(a[t].id===e)return t;return!1}function f(e){var t=e.props.fbid,r=a.slice(),n=r.length,l={id:n,state:e.state},o=h(t);if(!1===o)throw new Error("App.duplicate() error, fbid=[".concat(t,"] not found."));r.splice(o+1,0,l),s(r),c(n)}function d(e){var t=e.props.fbid,r=a.slice(),n=h(t);if(!1===n)throw new Error("App.remove() error, fbid=[".concat(t,"] not found."));r[n].state=!1,c(null),s(r)}for(var b=[],u=a.length,p=0;p<u;p++){var m=null,j=a[p].id,y=a[p].state;j===i?m=Object(v.jsx)(g,{fbid:j,duplicate:f,remove:d,collapsed:y.collapsed,fretFirst:y.fretFirst,fretLast:y.fretLast,fretBtnText:y.fretBtnText,fretFilter:y.fretFilter,strgFltrList:y.strgFltrList,noteFilter:y.noteFilter,fretSelect:y.fretSelect,fretSelectMatch:y.fretSelectMatch,rootType:y.rootType,fretRoot:y.fretRoot,selNoteVal:y.selNoteVal,octave:y.octave,scaleName:y.scaleName,chordName:y.chordName,ivlName:y.ivlName},j):!1!==y&&(m=Object(v.jsx)(g,{fbid:j,duplicate:f,remove:d},j)),null!=m&&b.push(m)}return Object(v.jsxs)("div",{className:"App",children:[Object(v.jsxs)("header",{className:"App-header header",children:[Object(v.jsx)(M,{className:"Logo",alt:"Logo"}),"GuitarJoe v0.1.3 ",Object(v.jsx)(N,{})]}),b]})};l.a.render(Object(v.jsx)(s.a.StrictMode,{children:Object(v.jsx)(F,{})}),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.b253323f.chunk.js.map